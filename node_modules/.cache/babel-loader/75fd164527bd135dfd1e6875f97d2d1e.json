{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport services from \"../../service\";\nvar initialState = {\n  user: undefined,\n  signUpFailureMessage: undefined\n};\nexport var signIn = createAsyncThunk('auth/signIn', function (_ref) {\n  var email = _ref.email,\n    password = _ref.password;\n  return services.authService.signIn(email, password);\n});\nexport var signUp = createAsyncThunk('auth/signUp', function (_ref2) {\n  var email = _ref2.email,\n    password = _ref2.password;\n  return services.authService.signUp(email, password);\n});\nexport var checkSession = createAsyncThunk('auth/checkSession', function () {\n  return services.authService.checkSession();\n});\nexport var signOut = createAsyncThunk('auth/signOut', function () {\n  return services.authService.logout();\n});\nexport var selectUser = function selectUser(state) {\n  return state.auth.user;\n};\nexport var selectSignupFailedMessage = function selectSignupFailedMessage(state) {\n  return state.auth.signUpFailureMessage;\n};\nexport var authSlice = createSlice({\n  name: 'auth',\n  initialState: initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {},\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  //\n\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(signUp.fulfilled, function (state, action) {\n      state.user = action.payload;\n      state.signUpFailureMessage = undefined;\n    }).addCase(signUp.rejected, function (state, action) {\n      state.signUpFailureMessage = action.error.message;\n    }).addCase(signIn.fulfilled, function (state, action) {\n      state.user = action.payload;\n      state.signUpFailureMessage = undefined;\n    }).addCase(checkSession.fulfilled, function (state, action) {\n      state.user = action.payload;\n      state.signUpFailureMessage = undefined;\n    }).addCase(signOut.fulfilled, function (state, action) {\n      state.user = undefined;\n      state.signUpFailureMessage = undefined;\n    });\n  }\n});\nexport default authSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","services","initialState","user","undefined","signUpFailureMessage","signIn","email","password","authService","signUp","checkSession","signOut","logout","selectUser","state","auth","selectSignupFailedMessage","authSlice","name","reducers","extraReducers","builder","addCase","fulfilled","action","payload","rejected","error","message","reducer"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/auth/authSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../../app/store\";\nimport services from \"../../service\";\n\nexport interface User {\n    username: string;\n    orgId?: string\n}\nexport interface AuthState {\n    user: User | undefined\n    signUpFailureMessage: string | undefined\n}\ninterface AuthThunkArg {\n    email: string;\n    password: string;\n}\n\nconst initialState: AuthState = {\n    user: undefined,\n    signUpFailureMessage: undefined\n};\n\nexport const signIn = createAsyncThunk(\n    'auth/signIn',\n    ({ email, password }: AuthThunkArg) =>\n        services.authService.signIn(email, password)\n);\n\nexport const signUp = createAsyncThunk(\n    'auth/signUp',\n    ({ email, password }: AuthThunkArg) =>\n        services.authService.signUp(email, password)\n);\n\nexport const checkSession = createAsyncThunk(\n    'auth/checkSession',\n    () =>\n        services.authService.checkSession()\n);\nexport const signOut = createAsyncThunk(\n    'auth/signOut',\n    () =>\n        services.authService.logout()\n);\n\n\nexport const selectUser = (state: RootState) => state.auth.user;\nexport const selectSignupFailedMessage = (state: RootState) => state.auth.signUpFailureMessage;\n\nexport const authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    // The `reducers` field lets us define reducers and generate associated actions\n    reducers: {\n\n    },\n    // The `extraReducers` field lets the slice handle actions defined elsewhere,\n    // including actions generated by createAsyncThunk or in other slices.\n    //\n\n    extraReducers: (builder) => {\n        builder\n            .addCase(signUp.fulfilled, (state, action) => {\n                state.user = action.payload;\n                state.signUpFailureMessage = undefined;\n            })\n            .addCase(signUp.rejected, (state, action) => {\n                state.signUpFailureMessage = action.error.message;\n            })\n            .addCase(signIn.fulfilled, (state, action) => {\n                state.user = action.payload;\n                state.signUpFailureMessage = undefined;\n            })\n            .addCase(checkSession.fulfilled, (state, action) => {\n                state.user = action.payload;\n                state.signUpFailureMessage = undefined;\n            })\n            .addCase(signOut.fulfilled, (state, action) => {\n                state.user = undefined;\n                state.signUpFailureMessage = undefined;\n            });\n    },\n\n});\n\n\nexport default authSlice.reducer;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAEhE,OAAOC,QAAQ,MAAM,eAAe;AAepC,IAAMC,YAAuB,GAAG;EAC5BC,IAAI,EAAEC,SAAS;EACfC,oBAAoB,EAAED;AAC1B,CAAC;AAED,OAAO,IAAME,MAAM,GAAGP,gBAAgB,CAClC,aAAa,EACb;EAAA,IAAGQ,KAAK,QAALA,KAAK;IAAEC,QAAQ,QAARA,QAAQ;EAAA,OACdP,QAAQ,CAACQ,WAAW,CAACH,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC;AAAA,EACnD;AAED,OAAO,IAAME,MAAM,GAAGX,gBAAgB,CAClC,aAAa,EACb;EAAA,IAAGQ,KAAK,SAALA,KAAK;IAAEC,QAAQ,SAARA,QAAQ;EAAA,OACdP,QAAQ,CAACQ,WAAW,CAACC,MAAM,CAACH,KAAK,EAAEC,QAAQ,CAAC;AAAA,EACnD;AAED,OAAO,IAAMG,YAAY,GAAGZ,gBAAgB,CACxC,mBAAmB,EACnB;EAAA,OACIE,QAAQ,CAACQ,WAAW,CAACE,YAAY,EAAE;AAAA,EAC1C;AACD,OAAO,IAAMC,OAAO,GAAGb,gBAAgB,CACnC,cAAc,EACd;EAAA,OACIE,QAAQ,CAACQ,WAAW,CAACI,MAAM,EAAE;AAAA,EACpC;AAGD,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAgB;EAAA,OAAKA,KAAK,CAACC,IAAI,CAACb,IAAI;AAAA;AAC/D,OAAO,IAAMc,yBAAyB,GAAG,SAA5BA,yBAAyB,CAAIF,KAAgB;EAAA,OAAKA,KAAK,CAACC,IAAI,CAACX,oBAAoB;AAAA;AAE9F,OAAO,IAAMa,SAAS,GAAGlB,WAAW,CAAC;EACjCmB,IAAI,EAAE,MAAM;EACZjB,YAAY,EAAZA,YAAY;EACZ;EACAkB,QAAQ,EAAE,CAEV,CAAC;EACD;EACA;EACA;;EAEAC,aAAa,EAAE,uBAACC,OAAO,EAAK;IACxBA,OAAO,CACFC,OAAO,CAACb,MAAM,CAACc,SAAS,EAAE,UAACT,KAAK,EAAEU,MAAM,EAAK;MAC1CV,KAAK,CAACZ,IAAI,GAAGsB,MAAM,CAACC,OAAO;MAC3BX,KAAK,CAACV,oBAAoB,GAAGD,SAAS;IAC1C,CAAC,CAAC,CACDmB,OAAO,CAACb,MAAM,CAACiB,QAAQ,EAAE,UAACZ,KAAK,EAAEU,MAAM,EAAK;MACzCV,KAAK,CAACV,oBAAoB,GAAGoB,MAAM,CAACG,KAAK,CAACC,OAAO;IACrD,CAAC,CAAC,CACDN,OAAO,CAACjB,MAAM,CAACkB,SAAS,EAAE,UAACT,KAAK,EAAEU,MAAM,EAAK;MAC1CV,KAAK,CAACZ,IAAI,GAAGsB,MAAM,CAACC,OAAO;MAC3BX,KAAK,CAACV,oBAAoB,GAAGD,SAAS;IAC1C,CAAC,CAAC,CACDmB,OAAO,CAACZ,YAAY,CAACa,SAAS,EAAE,UAACT,KAAK,EAAEU,MAAM,EAAK;MAChDV,KAAK,CAACZ,IAAI,GAAGsB,MAAM,CAACC,OAAO;MAC3BX,KAAK,CAACV,oBAAoB,GAAGD,SAAS;IAC1C,CAAC,CAAC,CACDmB,OAAO,CAACX,OAAO,CAACY,SAAS,EAAE,UAACT,KAAK,EAAEU,MAAM,EAAK;MAC3CV,KAAK,CAACZ,IAAI,GAAGC,SAAS;MACtBW,KAAK,CAACV,oBAAoB,GAAGD,SAAS;IAC1C,CAAC,CAAC;EACV;AAEJ,CAAC,CAAC;AAGF,eAAec,SAAS,CAACY,OAAO"},"metadata":{},"sourceType":"module"}