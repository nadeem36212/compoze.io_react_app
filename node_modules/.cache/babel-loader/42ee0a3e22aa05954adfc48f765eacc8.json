{"ast":null,"code":"var _jsxFileName = \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/costs/Cost.tsx\",\n  _s = $RefreshSig$();\nimport { DataTable } from '../../components/Table';\nimport React, { useEffect } from 'react';\nimport { fetchCosts, selectCost } from './costSlice';\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\nimport NavBar from '../../navigation/navbar';\nimport { selectUser } from '../auth/authSlice';\nimport { Spinner } from '@chakra-ui/react';\nimport { useHistory } from 'react-router-dom';\nimport routes from '../../routes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Cost() {\n  _s();\n  var accounts = useAppSelector(selectCost);\n  var user = useAppSelector(selectUser);\n  var dispatch = useAppDispatch();\n  var history = useHistory();\n  var navigateToDetailsPage = function navigateToDetailsPage(row) {\n    var account = accounts === null || accounts === void 0 ? void 0 : accounts.find(function (compliance) {\n      return compliance.accountId === row.values.accountId;\n    });\n    if (account) {\n      history.push(routes.COSTDETAILS.path.replace(':id', account.accountId));\n    }\n  };\n  useEffect(function () {\n    dispatch(fetchCosts({\n      orgId: user.orgId\n    }));\n  }, []);\n  var columns = React.useMemo(function () {\n    return [{\n      Header: 'Account Nickname',\n      accessor: 'nickName'\n    }, {\n      Header: 'AWS Account ID',\n      accessor: 'accountId'\n    }, {\n      Header: 'Period Start',\n      accessor: 'periodStart'\n    }, {\n      Header: 'Period End',\n      accessor: 'periodEnd'\n    }, {\n      Header: 'Total Cost',\n      accessor: 'totalCost'\n    }, {\n      Header: 'Forecast Cost For The Month',\n      accessor: 'forecastedAmount'\n    }];\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), accounts && accounts.length > 0 ? /*#__PURE__*/_jsxDEV(DataTable, {\n      title: \"AWS Accounts Cost\",\n      columns: columns,\n      data: accounts,\n      onClick: navigateToDetailsPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Loading \", /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(Cost, \"Z3jXm9ZpuY71ZQkYzJNY5bUvVx4=\", false, function () {\n  return [useAppSelector, useAppSelector, useAppDispatch, useHistory];\n});\n_c = Cost;\nvar _c;\n$RefreshReg$(_c, \"Cost\");","map":{"version":3,"names":["DataTable","React","useEffect","fetchCosts","selectCost","useAppSelector","useAppDispatch","NavBar","selectUser","Spinner","useHistory","routes","Cost","accounts","user","dispatch","history","navigateToDetailsPage","row","account","find","compliance","accountId","values","push","COSTDETAILS","path","replace","orgId","columns","useMemo","Header","accessor","length"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/costs/Cost.tsx"],"sourcesContent":["import { DataTable } from '../../components/Table';\nimport React, { useEffect } from 'react';\nimport { AccountCost, fetchCosts, selectCost } from './costSlice';\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\nimport NavBar from '../../navigation/navbar';\nimport { selectUser, User } from '../auth/authSlice';\nimport { Spinner } from '@chakra-ui/react';\nimport { useHistory } from 'react-router-dom';\nimport routes from '../../routes';\nimport { Row } from 'react-table';\n\nexport function Cost() {\n  const accounts: AccountCost[] = useAppSelector(selectCost);\n  const user: User = useAppSelector(selectUser)!;\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n\n  const navigateToDetailsPage = (row: Row<any>) => {\n    const account = accounts?.find(\n      (compliance) => compliance.accountId === row.values.accountId\n    );\n    if (account) {\n      history.push(routes.COSTDETAILS.path.replace(':id', account.accountId));\n    }\n  };\n  useEffect(() => {\n    dispatch(fetchCosts({ orgId: user.orgId! }));\n  }, []);\n\n  const columns = React.useMemo(\n    () => [\n\n      {\n        Header: 'Account Nickname',\n        accessor: 'nickName',\n      },\n      {\n        Header: 'AWS Account ID',\n        accessor: 'accountId',\n      },\n      {\n        Header: 'Period Start',\n        accessor: 'periodStart',\n      },\n      {\n        Header: 'Period End',\n        accessor: 'periodEnd',\n      },\n      {\n        Header: 'Total Cost',\n        accessor: 'totalCost',\n      },\n      {\n        Header: 'Forecast Cost For The Month',\n        accessor: 'forecastedAmount',\n      },\n    ],\n    []\n  );\n\n  return (\n    <div className='App container py-3'>\n      <NavBar />\n\n      {accounts && accounts.length > 0 ? (\n        <DataTable\n          title='AWS Accounts Cost'\n          columns={columns}\n          data={accounts}\n          onClick={navigateToDetailsPage}\n\n        />\n      ) : (\n        <div>\n          Loading <Spinner />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,wBAAwB;AAClD,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAAsBC,UAAU,EAAEC,UAAU,QAAQ,aAAa;AACjE,SAASC,cAAc,EAAEC,cAAc,QAAQ,iBAAiB;AAChE,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,SAASC,UAAU,QAAc,mBAAmB;AACpD,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,MAAM,MAAM,cAAc;AAAC;AAGlC,OAAO,SAASC,IAAI,GAAG;EAAA;EACrB,IAAMC,QAAuB,GAAGR,cAAc,CAACD,UAAU,CAAC;EAC1D,IAAMU,IAAU,GAAGT,cAAc,CAACG,UAAU,CAAE;EAC9C,IAAMO,QAAQ,GAAGT,cAAc,EAAE;EACjC,IAAMU,OAAO,GAAGN,UAAU,EAAE;EAE5B,IAAMO,qBAAqB,GAAG,SAAxBA,qBAAqB,CAAIC,GAAa,EAAK;IAC/C,IAAMC,OAAO,GAAGN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,IAAI,CAC5B,UAACC,UAAU;MAAA,OAAKA,UAAU,CAACC,SAAS,KAAKJ,GAAG,CAACK,MAAM,CAACD,SAAS;IAAA,EAC9D;IACD,IAAIH,OAAO,EAAE;MACXH,OAAO,CAACQ,IAAI,CAACb,MAAM,CAACc,WAAW,CAACC,IAAI,CAACC,OAAO,CAAC,KAAK,EAAER,OAAO,CAACG,SAAS,CAAC,CAAC;IACzE;EACF,CAAC;EACDpB,SAAS,CAAC,YAAM;IACda,QAAQ,CAACZ,UAAU,CAAC;MAAEyB,KAAK,EAAEd,IAAI,CAACc;IAAO,CAAC,CAAC,CAAC;EAC9C,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,OAAO,GAAG5B,KAAK,CAAC6B,OAAO,CAC3B;IAAA,OAAM,CAEJ;MACEC,MAAM,EAAE,kBAAkB;MAC1BC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,gBAAgB;MACxBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,cAAc;MACtBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,YAAY;MACpBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,YAAY;MACpBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,6BAA6B;MACrCC,QAAQ,EAAE;IACZ,CAAC,CACF;EAAA,GACD,EAAE,CACH;EAED,oBACE;IAAK,SAAS,EAAC,oBAAoB;IAAA,wBACjC,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG,EAETnB,QAAQ,IAAIA,QAAQ,CAACoB,MAAM,GAAG,CAAC,gBAC9B,QAAC,SAAS;MACR,KAAK,EAAC,mBAAmB;MACzB,OAAO,EAAEJ,OAAQ;MACjB,IAAI,EAAEhB,QAAS;MACf,OAAO,EAAEI;IAAsB;MAAA;MAAA;MAAA;IAAA,QAE/B,gBAEF;MAAA,oCACU,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QAEtB;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEV;AAAC,GApEeL,IAAI;EAAA,QACcP,cAAc,EAC3BA,cAAc,EAChBC,cAAc,EACfI,UAAU;AAAA;AAAA,KAJZE,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module"}