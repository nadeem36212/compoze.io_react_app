{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naeem/syntaxroot/compoze.io_react_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/naeem/syntaxroot/compoze.io_react_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/naeem/syntaxroot/compoze.io_react_app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/naeem/syntaxroot/compoze.io_react_app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar TemplateService = /*#__PURE__*/function () {\n  function TemplateService(http, authService, baseUri) {\n    _classCallCheck(this, TemplateService);\n    this.http = http;\n    this.authService = authService;\n    this.baseUri = baseUri;\n  }\n  _createClass(TemplateService, [{\n    key: \"createTemplate\",\n    value: function () {\n      var _createTemplate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(productName, name, technology, attributes) {\n        var url, headers;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = this.createURL(\"/products/\".concat(productName, \"/components/templates\"));\n                _context.t0 = Object;\n                _context.t1 = this.getHeaders();\n                _context.next = 5;\n                return this.getHeaders();\n              case 5:\n                _context.t2 = _context.sent;\n                headers = _context.t0.assign.call(_context.t0, _context.t1, _context.t2);\n                _context.next = 9;\n                return this.http.post(url, {\n                  name: name,\n                  technology: technology,\n                  attributes: attributes\n                }, {\n                  headers: headers\n                });\n              case 9:\n                _context.next = 11;\n                return _context.sent.data;\n              case 11:\n                return _context.abrupt(\"return\", _context.sent);\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function createTemplate(_x, _x2, _x3, _x4) {\n        return _createTemplate.apply(this, arguments);\n      }\n      return createTemplate;\n    }()\n  }, {\n    key: \"getTemplates\",\n    value: function () {\n      var _getTemplates = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(productName) {\n        var url, headers;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                url = this.createURL(\"/products/\".concat(productName, \"/components/templates\"));\n                _context2.t0 = Object;\n                _context2.t1 = this.getHeaders();\n                _context2.next = 5;\n                return this.getHeaders();\n              case 5:\n                _context2.t2 = _context2.sent;\n                headers = _context2.t0.assign.call(_context2.t0, _context2.t1, _context2.t2);\n                _context2.next = 9;\n                return this.http.get(url, {\n                  headers: headers\n                });\n              case 9:\n                _context2.next = 11;\n                return _context2.sent.data;\n              case 11:\n                return _context2.abrupt(\"return\", _context2.sent);\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function getTemplates(_x5) {\n        return _getTemplates.apply(this, arguments);\n      }\n      return getTemplates;\n    }()\n  }, {\n    key: \"deleteTemplate\",\n    value: function () {\n      var _deleteTemplate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(productName, id) {\n        var url, headers;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = this.createURL(\"/products/\".concat(productName, \"/components/templates/\").concat(id));\n                _context3.t0 = Object;\n                _context3.t1 = this.getHeaders();\n                _context3.next = 5;\n                return this.getHeaders();\n              case 5:\n                _context3.t2 = _context3.sent;\n                headers = _context3.t0.assign.call(_context3.t0, _context3.t1, _context3.t2);\n                _context3.next = 9;\n                return this.http.delete(url, {\n                  headers: headers\n                });\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function deleteTemplate(_x6, _x7) {\n        return _deleteTemplate.apply(this, arguments);\n      }\n      return deleteTemplate;\n    }()\n  }, {\n    key: \"createURL\",\n    value: function createURL(urlPath) {\n      return this.baseUri + urlPath;\n    }\n  }, {\n    key: \"getHeaders\",\n    value: function () {\n      var _getHeaders = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var Authorization;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.authService.getToken();\n              case 2:\n                Authorization = _context4.sent;\n                return _context4.abrupt(\"return\", Authorization ? {\n                  Authorization: Authorization,\n                  gitUser: \"hello\",\n                  githubToken: \"world\"\n                } : {});\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function getHeaders() {\n        return _getHeaders.apply(this, arguments);\n      }\n      return getHeaders;\n    }()\n  }]);\n  return TemplateService;\n}();\nexport { TemplateService as default };","map":{"version":3,"names":["TemplateService","http","authService","baseUri","productName","name","technology","attributes","url","createURL","Object","getHeaders","headers","assign","post","data","get","id","delete","urlPath","getToken","Authorization","gitUser","githubToken"],"sources":["/Users/naeem/syntaxroot/compoze.io_react_app/src/service/templateService.ts"],"sourcesContent":["import { AxiosInstance } from \"axios\";\nimport { Component } from \"../features/component/componentSlice\";\nimport { ProductInformation } from \"../features/products/productSlice\";\nimport { Template } from \"../features/templates/templateSlice\";\nimport AuthService from \"./authService\";\n\nexport default class TemplateService {\n\n    constructor(\n        protected readonly http: AxiosInstance,\n        protected readonly authService: AuthService,\n        protected readonly baseUri: string\n    ) { }\n\n    async createTemplate(\n        productName: string,\n        name: string,\n        technology: string,\n        attributes: any): Promise<Template> {\n        const url = this.createURL(`/products/${productName}/components/templates`);\n        const headers = Object.assign(this.getHeaders(), await this.getHeaders());\n\n        return await (await this.http.post<Template>(\n            url,\n            {\n                name,\n                technology,\n                attributes\n            },\n            { headers }\n        )).data;\n    }\n\n    async getTemplates(productName: string): Promise<Template[]> {\n        const url = this.createURL(`/products/${productName}/components/templates`);\n        const headers = Object.assign(this.getHeaders(), await this.getHeaders());\n        return await (await this.http.get<Template[]>(url, { headers })).data;\n    }\n\n    async deleteTemplate(productName: string, id: string): Promise<void> {\n        const url = this.createURL(`/products/${productName}/components/templates/${id}`);\n        const headers = Object.assign(this.getHeaders(), await this.getHeaders());\n        await this.http.delete(url, { headers });\n    }\n\n\n    private createURL(urlPath: string): string {\n        return this.baseUri + urlPath;\n    }\n\n\n    private async getHeaders(): Promise<any> {\n        const Authorization = await this.authService.getToken();\n        return Authorization ? { Authorization, gitUser: \"hello\", githubToken: \"world\" } : {};\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}