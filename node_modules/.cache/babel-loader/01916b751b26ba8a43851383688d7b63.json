{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naeem/syntaxroot/compoze.io_react_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/naeem/syntaxroot/compoze.io_react_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport services from '../../service';\nvar initialState = {\n  templates: []\n};\nexport var createTemplate = createAsyncThunk('templates/createtemplate', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var productName, name, technology, attributes;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            productName = _ref.productName, name = _ref.name, technology = _ref.technology, attributes = _ref.attributes;\n            return _context.abrupt(\"return\", services.templateService.createTemplate(productName, name, technology, attributes));\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var getTemplates = createAsyncThunk('templates/get', /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3) {\n    var productName;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            productName = _ref3.productName;\n            return _context2.abrupt(\"return\", services.templateService.getTemplates(productName));\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return function (_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nexport var deleteTemplate = createAsyncThunk('templates/delete', /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref5) {\n    var productName, id;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            productName = _ref5.productName, id = _ref5.id;\n            return _context3.abrupt(\"return\", services.templateService.deleteTemplate(productName, id));\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return function (_x3) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport var selectTemplates = function selectTemplates(state) {\n  return state.templates.templates;\n};\nexport var templateSlice = createSlice({\n  name: 'template',\n  initialState: initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {},\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(createTemplate.fulfilled, function (state, action) {\n      state.templates.push(action.payload);\n    });\n    builder.addCase(getTemplates.fulfilled, function (state, action) {\n      state.templates = action.payload;\n    });\n    builder.addCase(deleteTemplate.fulfilled, function (state, action) {\n      state.templates = state.templates.filter(function (template) {\n        return template.id !== action.meta.arg.id;\n      });\n    });\n  }\n});\nexport default templateSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","services","initialState","templates","createTemplate","productName","name","technology","attributes","templateService","getTemplates","deleteTemplate","id","selectTemplates","state","templateSlice","reducers","extraReducers","builder","addCase","fulfilled","action","push","payload","filter","template","meta","arg","reducer"],"sources":["/Users/naeem/syntaxroot/compoze.io_react_app/src/features/templates/templateSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { RootState } from '../../app/store';\nimport services from '../../service';\n\nexport interface Template {\n  id: string;\n  name: string;\n  technology: string;\n  attributes: any\n}\n\nexport interface TemplateState {\n  templates: Template[];\n}\n\ninterface CreateTemplateThunkArgs {\n  productName: string;\n  name: string;\n  technology: string;\n  attributes: any;\n}\n\ninterface GetTemplatesThunkArgs {\n  productName: string;\n}\ninterface DeleteTemplatesThunkArgs {\n  productName: string;\n  id: string;\n}\nconst initialState: TemplateState = {\n  templates: [],\n};\n\n\nexport const createTemplate = createAsyncThunk(\n  'templates/createtemplate',\n  async ({ productName, name, technology, attributes }: CreateTemplateThunkArgs) => {\n    return services.templateService.createTemplate(\n      productName,\n      name,\n      technology,\n      attributes\n    )\n\n  }\n);\nexport const getTemplates = createAsyncThunk(\n  'templates/get',\n  async ({ productName }: GetTemplatesThunkArgs) => {\n    return services.templateService.getTemplates(productName);\n  }\n);\nexport const deleteTemplate = createAsyncThunk(\n  'templates/delete',\n  async ({ productName, id }: DeleteTemplatesThunkArgs) => {\n    return services.templateService.deleteTemplate(productName, id);\n  }\n);\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectTemplates = (state: RootState) => state.templates.templates;\n\nexport const templateSlice = createSlice({\n  name: 'template',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {},\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: (builder) => {\n    builder.addCase(createTemplate.fulfilled, (state, action) => {\n      state.templates.push(action.payload);\n    });\n    builder.addCase(getTemplates.fulfilled, (state, action) => {\n      state.templates = action.payload;\n    }\n    );\n    builder.addCase(deleteTemplate.fulfilled, (state, action) => {\n      state.templates = state.templates.filter(template => template.id !== action.meta.arg.id);\n    }\n    );\n  },\n});\n\nexport default templateSlice.reducer;\n"],"mappings":";;AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAEhE,OAAOC,QAAQ,MAAM,eAAe;AA2BpC,IAAMC,YAA2B,GAAG;EAClCC,SAAS,EAAE;AACb,CAAC;AAGD,OAAO,IAAMC,cAAc,GAAGL,gBAAgB,CAC5C,0BAA0B;EAAA,uEAC1B;IAAA;IAAA;MAAA;QAAA;UAAA;YAASM,WAAW,QAAXA,WAAW,EAAEC,IAAI,QAAJA,IAAI,EAAEC,UAAU,QAAVA,UAAU,EAAEC,UAAU,QAAVA,UAAU;YAAA,iCACzCP,QAAQ,CAACQ,eAAe,CAACL,cAAc,CAC5CC,WAAW,EACXC,IAAI,EACJC,UAAU,EACVC,UAAU,CACX;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAEF;EAAA;IAAA;EAAA;AAAA,IACF;AACD,OAAO,IAAME,YAAY,GAAGX,gBAAgB,CAC1C,eAAe;EAAA,uEACf;IAAA;IAAA;MAAA;QAAA;UAAA;YAASM,WAAW,SAAXA,WAAW;YAAA,kCACXJ,QAAQ,CAACQ,eAAe,CAACC,YAAY,CAACL,WAAW,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAC1D;EAAA;IAAA;EAAA;AAAA,IACF;AACD,OAAO,IAAMM,cAAc,GAAGZ,gBAAgB,CAC5C,kBAAkB;EAAA,uEAClB;IAAA;IAAA;MAAA;QAAA;UAAA;YAASM,WAAW,SAAXA,WAAW,EAAEO,EAAE,SAAFA,EAAE;YAAA,kCACfX,QAAQ,CAACQ,eAAe,CAACE,cAAc,CAACN,WAAW,EAAEO,EAAE,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAChE;EAAA;IAAA;EAAA;AAAA,IACF;AACD;AACA;AACA;AACA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIC,KAAgB;EAAA,OAAKA,KAAK,CAACX,SAAS,CAACA,SAAS;AAAA;AAE9E,OAAO,IAAMY,aAAa,GAAGf,WAAW,CAAC;EACvCM,IAAI,EAAE,UAAU;EAChBJ,YAAY,EAAZA,YAAY;EACZ;EACAc,QAAQ,EAAE,CAAC,CAAC;EACZ;EACA;EACAC,aAAa,EAAE,uBAACC,OAAO,EAAK;IAC1BA,OAAO,CAACC,OAAO,CAACf,cAAc,CAACgB,SAAS,EAAE,UAACN,KAAK,EAAEO,MAAM,EAAK;MAC3DP,KAAK,CAACX,SAAS,CAACmB,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IACtC,CAAC,CAAC;IACFL,OAAO,CAACC,OAAO,CAACT,YAAY,CAACU,SAAS,EAAE,UAACN,KAAK,EAAEO,MAAM,EAAK;MACzDP,KAAK,CAACX,SAAS,GAAGkB,MAAM,CAACE,OAAO;IAClC,CAAC,CACA;IACDL,OAAO,CAACC,OAAO,CAACR,cAAc,CAACS,SAAS,EAAE,UAACN,KAAK,EAAEO,MAAM,EAAK;MAC3DP,KAAK,CAACX,SAAS,GAAGW,KAAK,CAACX,SAAS,CAACqB,MAAM,CAAC,UAAAC,QAAQ;QAAA,OAAIA,QAAQ,CAACb,EAAE,KAAKS,MAAM,CAACK,IAAI,CAACC,GAAG,CAACf,EAAE;MAAA,EAAC;IAC1F,CAAC,CACA;EACH;AACF,CAAC,CAAC;AAEF,eAAeG,aAAa,CAACa,OAAO"},"metadata":{},"sourceType":"module"}