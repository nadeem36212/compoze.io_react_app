{"ast":null,"code":"var _jsxFileName = \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/products/ProductsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { DataTable } from '../../components/Table';\nimport NavBar from '../../navigation/navbar';\nimport routes from '../../routes';\nimport { selectUser } from '../auth/authSlice';\nimport { fetchProducts, selectProducts } from './productSlice';\nimport { Button, Spinner } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ProductPage() {\n  _s();\n  var columns = React.useMemo(function () {\n    return [{\n      Header: 'AWS Account ID',\n      accessor: 'accountId'\n    }, {\n      Header: 'AWS Region',\n      accessor: 'region'\n    },\n    // {\n    //     Header: 'Environments',\n    //     accessor: 'environments',\n    // },\n    {\n      Header: 'Product Name',\n      accessor: 'name'\n    }];\n  }, []);\n  var products = useAppSelector(selectProducts);\n  var dispatch = useAppDispatch();\n  var user = useAppSelector(selectUser);\n  var history = useHistory();\n  useEffect(function () {\n    dispatch(fetchProducts({\n      orgId: user.orgId\n    }));\n  }, []);\n  var navigateToDetailsPage = function navigateToDetailsPage(row) {\n    var product = products === null || products === void 0 ? void 0 : products.find(function (product) {\n      return product.name === row.values.name;\n    });\n    if (product) {\n      history.push(routes.PRODUCTDETAILS.path.replace(':name', product.name));\n    }\n  };\n  var navigateToProductCreatePage = function navigateToProductCreatePage() {\n    history.push(routes.CREATEPRODUCT.path);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Products container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), products ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(DataTable\n      // title='Your Compoze Products'\n      , {\n        columns: columns,\n        data: products,\n        onClick: navigateToDetailsPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"createProductButton\",\n        type: \"button\",\n        w: \"10%\",\n        onClick: function onClick() {\n          return navigateToProductCreatePage();\n        },\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Loading \", /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductPage, \"p2DlJBoT+iXqa9Tqcj9x2ZvVlMM=\", false, function () {\n  return [useAppSelector, useAppDispatch, useAppSelector, useHistory];\n});\n_c = ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["React","useEffect","useHistory","useAppDispatch","useAppSelector","DataTable","NavBar","routes","selectUser","fetchProducts","selectProducts","Button","Spinner","ProductPage","columns","useMemo","Header","accessor","products","dispatch","user","history","orgId","navigateToDetailsPage","row","product","find","name","values","push","PRODUCTDETAILS","path","replace","navigateToProductCreatePage","CREATEPRODUCT"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/products/ProductsPage.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Row } from 'react-table';\nimport { useHistory } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { DataTable } from '../../components/Table';\nimport NavBar from '../../navigation/navbar';\nimport routes from '../../routes';\nimport { User, selectUser } from '../auth/authSlice';\nimport {\n  fetchProducts,\n  ProductInformation,\n  selectProducts,\n} from './productSlice';\nimport { Button, Spinner } from '@chakra-ui/react';\n\nexport function ProductPage() {\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'AWS Account ID',\n        accessor: 'accountId',\n      },\n      {\n        Header: 'AWS Region',\n        accessor: 'region',\n      },\n      // {\n      //     Header: 'Environments',\n      //     accessor: 'environments',\n      // },\n      {\n        Header: 'Product Name',\n        accessor: 'name',\n      },\n    ],\n    []\n  );\n  const products: ProductInformation[] = useAppSelector(selectProducts);\n\n  const dispatch = useAppDispatch();\n  const user: User = useAppSelector(selectUser)!;\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(fetchProducts({ orgId: user.orgId! }));\n  }, []);\n\n  const navigateToDetailsPage = (row: Row<any>) => {\n    const product = products?.find(\n      (product) => product.name === row.values.name\n    );\n    if (product) {\n      history.push(routes.PRODUCTDETAILS.path.replace(':name', product.name));\n    }\n  };\n\n  const navigateToProductCreatePage = () => {\n    history.push(routes.CREATEPRODUCT.path);\n\n  }\n  return (\n    <div className='Products container py-3'>\n      <NavBar />\n\n      {products ? (\n        <div>\n          <DataTable\n            // title='Your Compoze Products'\n            columns={columns}\n            data={products}\n            onClick={navigateToDetailsPage}\n          />\n          <Button\n            className='createProductButton'\n            type='button'\n            w='10%'\n            onClick={() => navigateToProductCreatePage()}\n          >\n            Create\n          </Button>\n        </div>\n      ) : (\n        <div>\n          Loading <Spinner />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,cAAc,EAAEC,cAAc,QAAQ,iBAAiB;AAChE,SAASC,SAAS,QAAQ,wBAAwB;AAClD,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,MAAM,MAAM,cAAc;AACjC,SAAeC,UAAU,QAAQ,mBAAmB;AACpD,SACEC,aAAa,EAEbC,cAAc,QACT,gBAAgB;AACvB,SAASC,MAAM,EAAEC,OAAO,QAAQ,kBAAkB;AAAC;AAEnD,OAAO,SAASC,WAAW,GAAG;EAAA;EAC5B,IAAMC,OAAO,GAAGd,KAAK,CAACe,OAAO,CAC3B;IAAA,OAAM,CACJ;MACEC,MAAM,EAAE,gBAAgB;MACxBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,YAAY;MACpBC,QAAQ,EAAE;IACZ,CAAC;IACD;IACA;IACA;IACA;IACA;MACED,MAAM,EAAE,cAAc;MACtBC,QAAQ,EAAE;IACZ,CAAC,CACF;EAAA,GACD,EAAE,CACH;EACD,IAAMC,QAA8B,GAAGd,cAAc,CAACM,cAAc,CAAC;EAErE,IAAMS,QAAQ,GAAGhB,cAAc,EAAE;EACjC,IAAMiB,IAAU,GAAGhB,cAAc,CAACI,UAAU,CAAE;EAC9C,IAAMa,OAAO,GAAGnB,UAAU,EAAE;EAE5BD,SAAS,CAAC,YAAM;IACdkB,QAAQ,CAACV,aAAa,CAAC;MAAEa,KAAK,EAAEF,IAAI,CAACE;IAAO,CAAC,CAAC,CAAC;EACjD,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqB,CAAIC,GAAa,EAAK;IAC/C,IAAMC,OAAO,GAAGP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,IAAI,CAC5B,UAACD,OAAO;MAAA,OAAKA,OAAO,CAACE,IAAI,KAAKH,GAAG,CAACI,MAAM,CAACD,IAAI;IAAA,EAC9C;IACD,IAAIF,OAAO,EAAE;MACXJ,OAAO,CAACQ,IAAI,CAACtB,MAAM,CAACuB,cAAc,CAACC,IAAI,CAACC,OAAO,CAAC,OAAO,EAAEP,OAAO,CAACE,IAAI,CAAC,CAAC;IACzE;EACF,CAAC;EAED,IAAMM,2BAA2B,GAAG,SAA9BA,2BAA2B,GAAS;IACxCZ,OAAO,CAACQ,IAAI,CAACtB,MAAM,CAAC2B,aAAa,CAACH,IAAI,CAAC;EAEzC,CAAC;EACD,oBACE;IAAK,SAAS,EAAC,yBAAyB;IAAA,wBACtC,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG,EAETb,QAAQ,gBACP;MAAA,wBACE,QAAC;MACC;MAAA;QACA,OAAO,EAAEJ,OAAQ;QACjB,IAAI,EAAEI,QAAS;QACf,OAAO,EAAEK;MAAsB;QAAA;QAAA;QAAA;MAAA,QAC/B,eACF,QAAC,MAAM;QACL,SAAS,EAAC,qBAAqB;QAC/B,IAAI,EAAC,QAAQ;QACb,CAAC,EAAC,KAAK;QACP,OAAO,EAAE;UAAA,OAAMU,2BAA2B,EAAE;QAAA,CAAC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAGtC;IAAA;MAAA;MAAA;MAAA;IAAA,QACL,gBAEN;MAAA,oCACU,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QAEtB;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEV;AAAC,GAzEepB,WAAW;EAAA,QAsBcT,cAAc,EAEpCD,cAAc,EACZC,cAAc,EACjBF,UAAU;AAAA;AAAA,KA1BZW,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module"}