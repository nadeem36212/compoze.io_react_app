{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/containers/Signup.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { Box, VStack, Button } from '@chakra-ui/react';\nimport './Signup.css';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { useHistory } from 'react-router-dom';\nimport NavBar from '../navigation/navbar';\nimport { selectSignupFailedMessage, signUp } from '../features/auth/authSlice';\nimport { isFulfilled } from '@reduxjs/toolkit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignUp() {\n  _s();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    successfullSignup = _useState6[0],\n    setSuccessfullSignup = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    passwordConfirmation = _useState8[0],\n    setPasswordConfirmation = _useState8[1];\n  var dispatch = useAppDispatch();\n  var history = useHistory();\n  var signupFailedMessage = useAppSelector(selectSignupFailedMessage);\n  function validateForm() {\n    return email.length > 0 && password.length > 0 && password === passwordConfirmation;\n  }\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(event) {\n      var action, fulfilled, failureMessage;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return dispatch(signUp({\n                email: email,\n                password: password\n              }));\n            case 3:\n              action = _context.sent;\n              fulfilled = isFulfilled(action);\n              if (fulfilled) {\n                setSuccessfullSignup(true);\n              } else {\n                failureMessage = signupFailedMessage ? signupFailedMessage : \"Failed to signup user. Please try again\";\n                alert(failureMessage);\n              }\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), successfullSignup ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Thanks for signing up! Please check your inbox to confirm your user account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      className: \"Signup\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(VStack, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"email\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              autoFocus: true,\n              type: \"email\",\n              value: email,\n              onChange: function onChange(e) {\n                return setEmail(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"password\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              value: password,\n              onChange: function onChange(e) {\n                return setPassword(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"confirmpassword\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              value: passwordConfirmation,\n              onChange: function onChange(e) {\n                return setPasswordConfirmation(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"signUpButton\",\n            type: \"submit\",\n            disabled: !validateForm(),\n            w: \"100%\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(SignUp, \"XKyfEuexbAEN5WFJiThgif6+O6o=\", false, function () {\n  return [useAppDispatch, useHistory, useAppSelector];\n});\n_c = SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useState","Form","Box","VStack","Button","useAppDispatch","useAppSelector","useHistory","NavBar","selectSignupFailedMessage","signUp","isFulfilled","SignUp","email","setEmail","password","setPassword","successfullSignup","setSuccessfullSignup","passwordConfirmation","setPasswordConfirmation","dispatch","history","signupFailedMessage","validateForm","length","handleSubmit","event","preventDefault","action","fulfilled","failureMessage","alert","width","e","target","value"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/containers/Signup.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { Box, VStack, Button } from '@chakra-ui/react';\nimport './Signup.css';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { useHistory } from 'react-router-dom';\nimport NavBar from '../navigation/navbar';\nimport { selectSignupFailedMessage, signUp } from '../features/auth/authSlice';\nimport { isFulfilled } from '@reduxjs/toolkit';\n\nexport default function SignUp() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [successfullSignup, setSuccessfullSignup] = useState(false);\n  const [passwordConfirmation, setPasswordConfirmation] = useState('');\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n  const signupFailedMessage: string | undefined = useAppSelector(selectSignupFailedMessage);\n\n  function validateForm() {\n    return email.length > 0 && password.length > 0 && password === passwordConfirmation;\n  }\n\n\n  async function handleSubmit(event: React.SyntheticEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    const action = await dispatch(signUp({ email, password }));\n    const fulfilled = isFulfilled(action);\n    if (fulfilled) {\n      setSuccessfullSignup(true)\n    } else {\n      const failureMessage = signupFailedMessage ? signupFailedMessage : \"Failed to signup user. Please try again\"\n      alert(failureMessage)\n    }\n\n  }\n  return (\n    <div className='App container py-3'>\n      <NavBar />\n      {successfullSignup ? (\n        <div>Thanks for signing up! Please check your inbox to confirm your user account</div>\n      ) :\n        (<Box className='Signup' alignItems='center' justifyContent='center'>\n          <Form onSubmit={handleSubmit}>\n            <VStack>\n              <Form.Group controlId='email' style={{ width: '100%' }}>\n                <Form.Label>Email</Form.Label>\n                <Form.Control\n                  autoFocus\n                  type='email'\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n              </Form.Group>\n              <Form.Group controlId='password' style={{ width: '100%' }}>\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                  type='password'\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </Form.Group>\n              <Form.Group controlId='confirmpassword' style={{ width: '100%' }}>\n                <Form.Label>Confirm Password</Form.Label>\n                <Form.Control\n                  type='password'\n                  value={passwordConfirmation}\n                  onChange={(e) => setPasswordConfirmation(e.target.value)}\n                />\n              </Form.Group>\n              <Button\n                className='signUpButton'\n                type='submit'\n                disabled={!validateForm()}\n                w='100%'\n              >\n                Sign Up\n              </Button>\n            </VStack>\n          </Form>\n        </Box>\n        )\n      }\n\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}