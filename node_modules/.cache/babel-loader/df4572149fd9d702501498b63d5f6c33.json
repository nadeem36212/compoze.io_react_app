{"ast":null,"code":"/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar MIME_MAP = [{\n  type: 'text/plain',\n  ext: 'txt'\n}, {\n  type: 'text/html',\n  ext: 'html'\n}, {\n  type: 'text/javascript',\n  ext: 'js'\n}, {\n  type: 'text/css',\n  ext: 'css'\n}, {\n  type: 'text/csv',\n  ext: 'csv'\n}, {\n  type: 'text/yaml',\n  ext: 'yml'\n}, {\n  type: 'text/yaml',\n  ext: 'yaml'\n}, {\n  type: 'text/calendar',\n  ext: 'ics'\n}, {\n  type: 'text/calendar',\n  ext: 'ical'\n}, {\n  type: 'image/apng',\n  ext: 'apng'\n}, {\n  type: 'image/bmp',\n  ext: 'bmp'\n}, {\n  type: 'image/gif',\n  ext: 'gif'\n}, {\n  type: 'image/x-icon',\n  ext: 'ico'\n}, {\n  type: 'image/x-icon',\n  ext: 'cur'\n}, {\n  type: 'image/jpeg',\n  ext: 'jpg'\n}, {\n  type: 'image/jpeg',\n  ext: 'jpeg'\n}, {\n  type: 'image/jpeg',\n  ext: 'jfif'\n}, {\n  type: 'image/jpeg',\n  ext: 'pjp'\n}, {\n  type: 'image/jpeg',\n  ext: 'pjpeg'\n}, {\n  type: 'image/png',\n  ext: 'png'\n}, {\n  type: 'image/svg+xml',\n  ext: 'svg'\n}, {\n  type: 'image/tiff',\n  ext: 'tif'\n}, {\n  type: 'image/tiff',\n  ext: 'tiff'\n}, {\n  type: 'image/webp',\n  ext: 'webp'\n}, {\n  type: 'application/json',\n  ext: 'json'\n}, {\n  type: 'application/xml',\n  ext: 'xml'\n}, {\n  type: 'application/x-sh',\n  ext: 'sh'\n}, {\n  type: 'application/zip',\n  ext: 'zip'\n}, {\n  type: 'application/x-rar-compressed',\n  ext: 'rar'\n}, {\n  type: 'application/x-tar',\n  ext: 'tar'\n}, {\n  type: 'application/x-bzip',\n  ext: 'bz'\n}, {\n  type: 'application/x-bzip2',\n  ext: 'bz2'\n}, {\n  type: 'application/pdf',\n  ext: 'pdf'\n}, {\n  type: 'application/java-archive',\n  ext: 'jar'\n}, {\n  type: 'application/msword',\n  ext: 'doc'\n}, {\n  type: 'application/vnd.ms-excel',\n  ext: 'xls'\n}, {\n  type: 'application/vnd.ms-excel',\n  ext: 'xlsx'\n}, {\n  type: 'message/rfc822',\n  ext: 'eml'\n}];\nexport var isEmpty = function isEmpty(obj) {\n  if (obj === void 0) {\n    obj = {};\n  }\n  return Object.keys(obj).length === 0;\n};\nexport var sortByField = function sortByField(list, field, dir) {\n  if (!list || !list.sort) {\n    return false;\n  }\n  var dirX = dir && dir === 'desc' ? -1 : 1;\n  list.sort(function (a, b) {\n    var a_val = a[field];\n    var b_val = b[field];\n    if (typeof b_val === 'undefined') {\n      return typeof a_val === 'undefined' ? 0 : 1 * dirX;\n    }\n    if (typeof a_val === 'undefined') {\n      return -1 * dirX;\n    }\n    if (a_val < b_val) {\n      return -1 * dirX;\n    }\n    if (a_val > b_val) {\n      return 1 * dirX;\n    }\n    return 0;\n  });\n  return true;\n};\nexport var objectLessAttributes = function objectLessAttributes(obj, less) {\n  var ret = Object.assign({}, obj);\n  if (less) {\n    if (typeof less === 'string') {\n      delete ret[less];\n    } else {\n      less.forEach(function (attr) {\n        delete ret[attr];\n      });\n    }\n  }\n  return ret;\n};\nexport var filenameToContentType = function filenameToContentType(filename, defVal) {\n  if (defVal === void 0) {\n    defVal = 'application/octet-stream';\n  }\n  var name = filename.toLowerCase();\n  var filtered = MIME_MAP.filter(function (mime) {\n    return name.endsWith('.' + mime.ext);\n  });\n  return filtered.length > 0 ? filtered[0].type : defVal;\n};\nexport var isTextFile = function isTextFile(contentType) {\n  var type = contentType.toLowerCase();\n  if (type.startsWith('text/')) {\n    return true;\n  }\n  return 'application/json' === type || 'application/xml' === type || 'application/sh' === type;\n};\nexport var generateRandomString = function generateRandomString() {\n  var result = '';\n  var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  for (var i = 32; i > 0; i -= 1) {\n    result += chars[Math.floor(Math.random() * chars.length)];\n  }\n  return result;\n};\nexport var makeQuerablePromise = function makeQuerablePromise(promise) {\n  if (promise.isResolved) return promise;\n  var isPending = true;\n  var isRejected = false;\n  var isFullfilled = false;\n  var result = promise.then(function (data) {\n    isFullfilled = true;\n    isPending = false;\n    return data;\n  }, function (e) {\n    isRejected = true;\n    isPending = false;\n    throw e;\n  });\n  result.isFullfilled = function () {\n    return isFullfilled;\n  };\n  result.isPending = function () {\n    return isPending;\n  };\n  result.isRejected = function () {\n    return isRejected;\n  };\n  return result;\n};\nexport var isWebWorker = function isWebWorker() {\n  if (typeof self === 'undefined') {\n    return false;\n  }\n  var selfContext = self;\n  return typeof selfContext.WorkerGlobalScope !== 'undefined' && self instanceof selfContext.WorkerGlobalScope;\n};\nexport var browserOrNode = function browserOrNode() {\n  var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var isNode = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n  return {\n    isBrowser: isBrowser,\n    isNode: isNode\n  };\n};\n/**\n * transfer the first letter of the keys to lowercase\n * @param {Object} obj - the object need to be transferred\n * @param {Array} whiteListForItself - whitelist itself from being transferred\n * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n */\nexport var transferKeyToLowerCase = function transferKeyToLowerCase(obj, whiteListForItself, whiteListForChildren) {\n  if (whiteListForItself === void 0) {\n    whiteListForItself = [];\n  }\n  if (whiteListForChildren === void 0) {\n    whiteListForChildren = [];\n  }\n  if (!isStrictObject(obj)) return obj;\n  var ret = {};\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      var transferedKey = whiteListForItself.includes(key) ? key : key[0].toLowerCase() + key.slice(1);\n      ret[transferedKey] = whiteListForChildren.includes(key) ? obj[key] : transferKeyToLowerCase(obj[key], whiteListForItself, whiteListForChildren);\n    }\n  }\n  return ret;\n};\n/**\n * transfer the first letter of the keys to lowercase\n * @param {Object} obj - the object need to be transferred\n * @param {Array} whiteListForItself - whitelist itself from being transferred\n * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n */\nexport var transferKeyToUpperCase = function transferKeyToUpperCase(obj, whiteListForItself, whiteListForChildren) {\n  if (whiteListForItself === void 0) {\n    whiteListForItself = [];\n  }\n  if (whiteListForChildren === void 0) {\n    whiteListForChildren = [];\n  }\n  if (!isStrictObject(obj)) return obj;\n  var ret = {};\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      var transferredKey = whiteListForItself.includes(key) ? key : key[0].toUpperCase() + key.slice(1);\n      ret[transferredKey] = whiteListForChildren.includes(key) ? obj[key] : transferKeyToUpperCase(obj[key], whiteListForItself, whiteListForChildren);\n    }\n  }\n  return ret;\n};\n/**\n * Return true if the object is a strict object\n * which means it's not Array, Function, Number, String, Boolean or Null\n * @param obj the Object\n */\nexport var isStrictObject = function isStrictObject(obj) {\n  return obj instanceof Object && !(obj instanceof Array) && !(obj instanceof Function) && !(obj instanceof Number) && !(obj instanceof String) && !(obj instanceof Boolean);\n};\n/**\n * @deprecated use per-function imports\n */\nvar JS = /** @class */function () {\n  function JS() {}\n  JS.isEmpty = isEmpty;\n  JS.sortByField = sortByField;\n  JS.objectLessAttributes = objectLessAttributes;\n  JS.filenameToContentType = filenameToContentType;\n  JS.isTextFile = isTextFile;\n  JS.generateRandomString = generateRandomString;\n  JS.makeQuerablePromise = makeQuerablePromise;\n  JS.isWebWorker = isWebWorker;\n  JS.browserOrNode = browserOrNode;\n  JS.transferKeyToLowerCase = transferKeyToLowerCase;\n  JS.transferKeyToUpperCase = transferKeyToUpperCase;\n  JS.isStrictObject = isStrictObject;\n  return JS;\n}();\nexport { JS };\n/**\n * @deprecated use per-function imports\n */\nexport default JS;","map":{"version":3,"sources":["../src/JS.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar MIME_MAP = [\n    { type: 'text/plain', ext: 'txt' },\n    { type: 'text/html', ext: 'html' },\n    { type: 'text/javascript', ext: 'js' },\n    { type: 'text/css', ext: 'css' },\n    { type: 'text/csv', ext: 'csv' },\n    { type: 'text/yaml', ext: 'yml' },\n    { type: 'text/yaml', ext: 'yaml' },\n    { type: 'text/calendar', ext: 'ics' },\n    { type: 'text/calendar', ext: 'ical' },\n    { type: 'image/apng', ext: 'apng' },\n    { type: 'image/bmp', ext: 'bmp' },\n    { type: 'image/gif', ext: 'gif' },\n    { type: 'image/x-icon', ext: 'ico' },\n    { type: 'image/x-icon', ext: 'cur' },\n    { type: 'image/jpeg', ext: 'jpg' },\n    { type: 'image/jpeg', ext: 'jpeg' },\n    { type: 'image/jpeg', ext: 'jfif' },\n    { type: 'image/jpeg', ext: 'pjp' },\n    { type: 'image/jpeg', ext: 'pjpeg' },\n    { type: 'image/png', ext: 'png' },\n    { type: 'image/svg+xml', ext: 'svg' },\n    { type: 'image/tiff', ext: 'tif' },\n    { type: 'image/tiff', ext: 'tiff' },\n    { type: 'image/webp', ext: 'webp' },\n    { type: 'application/json', ext: 'json' },\n    { type: 'application/xml', ext: 'xml' },\n    { type: 'application/x-sh', ext: 'sh' },\n    { type: 'application/zip', ext: 'zip' },\n    { type: 'application/x-rar-compressed', ext: 'rar' },\n    { type: 'application/x-tar', ext: 'tar' },\n    { type: 'application/x-bzip', ext: 'bz' },\n    { type: 'application/x-bzip2', ext: 'bz2' },\n    { type: 'application/pdf', ext: 'pdf' },\n    { type: 'application/java-archive', ext: 'jar' },\n    { type: 'application/msword', ext: 'doc' },\n    { type: 'application/vnd.ms-excel', ext: 'xls' },\n    { type: 'application/vnd.ms-excel', ext: 'xlsx' },\n    { type: 'message/rfc822', ext: 'eml' },\n];\nexport var isEmpty = function (obj) {\n    if (obj === void 0) { obj = {}; }\n    return Object.keys(obj).length === 0;\n};\nexport var sortByField = function (list, field, dir) {\n    if (!list || !list.sort) {\n        return false;\n    }\n    var dirX = dir && dir === 'desc' ? -1 : 1;\n    list.sort(function (a, b) {\n        var a_val = a[field];\n        var b_val = b[field];\n        if (typeof b_val === 'undefined') {\n            return typeof a_val === 'undefined' ? 0 : 1 * dirX;\n        }\n        if (typeof a_val === 'undefined') {\n            return -1 * dirX;\n        }\n        if (a_val < b_val) {\n            return -1 * dirX;\n        }\n        if (a_val > b_val) {\n            return 1 * dirX;\n        }\n        return 0;\n    });\n    return true;\n};\nexport var objectLessAttributes = function (obj, less) {\n    var ret = Object.assign({}, obj);\n    if (less) {\n        if (typeof less === 'string') {\n            delete ret[less];\n        }\n        else {\n            less.forEach(function (attr) {\n                delete ret[attr];\n            });\n        }\n    }\n    return ret;\n};\nexport var filenameToContentType = function (filename, defVal) {\n    if (defVal === void 0) { defVal = 'application/octet-stream'; }\n    var name = filename.toLowerCase();\n    var filtered = MIME_MAP.filter(function (mime) { return name.endsWith('.' + mime.ext); });\n    return filtered.length > 0 ? filtered[0].type : defVal;\n};\nexport var isTextFile = function (contentType) {\n    var type = contentType.toLowerCase();\n    if (type.startsWith('text/')) {\n        return true;\n    }\n    return ('application/json' === type ||\n        'application/xml' === type ||\n        'application/sh' === type);\n};\nexport var generateRandomString = function () {\n    var result = '';\n    var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    for (var i = 32; i > 0; i -= 1) {\n        result += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return result;\n};\nexport var makeQuerablePromise = function (promise) {\n    if (promise.isResolved)\n        return promise;\n    var isPending = true;\n    var isRejected = false;\n    var isFullfilled = false;\n    var result = promise.then(function (data) {\n        isFullfilled = true;\n        isPending = false;\n        return data;\n    }, function (e) {\n        isRejected = true;\n        isPending = false;\n        throw e;\n    });\n    result.isFullfilled = function () { return isFullfilled; };\n    result.isPending = function () { return isPending; };\n    result.isRejected = function () { return isRejected; };\n    return result;\n};\nexport var isWebWorker = function () {\n    if (typeof self === 'undefined') {\n        return false;\n    }\n    var selfContext = self;\n    return typeof selfContext.WorkerGlobalScope !== 'undefined' &&\n        self instanceof selfContext.WorkerGlobalScope;\n};\nexport var browserOrNode = function () {\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    var isNode = typeof process !== 'undefined' &&\n        process.versions != null &&\n        process.versions.node != null;\n    return {\n        isBrowser: isBrowser,\n        isNode: isNode,\n    };\n};\n/**\n * transfer the first letter of the keys to lowercase\n * @param {Object} obj - the object need to be transferred\n * @param {Array} whiteListForItself - whitelist itself from being transferred\n * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n */\nexport var transferKeyToLowerCase = function (obj, whiteListForItself, whiteListForChildren) {\n    if (whiteListForItself === void 0) { whiteListForItself = []; }\n    if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n    if (!isStrictObject(obj))\n        return obj;\n    var ret = {};\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            var transferedKey = whiteListForItself.includes(key)\n                ? key\n                : key[0].toLowerCase() + key.slice(1);\n            ret[transferedKey] = whiteListForChildren.includes(key)\n                ? obj[key]\n                : transferKeyToLowerCase(obj[key], whiteListForItself, whiteListForChildren);\n        }\n    }\n    return ret;\n};\n/**\n * transfer the first letter of the keys to lowercase\n * @param {Object} obj - the object need to be transferred\n * @param {Array} whiteListForItself - whitelist itself from being transferred\n * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n */\nexport var transferKeyToUpperCase = function (obj, whiteListForItself, whiteListForChildren) {\n    if (whiteListForItself === void 0) { whiteListForItself = []; }\n    if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n    if (!isStrictObject(obj))\n        return obj;\n    var ret = {};\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            var transferredKey = whiteListForItself.includes(key)\n                ? key\n                : key[0].toUpperCase() + key.slice(1);\n            ret[transferredKey] = whiteListForChildren.includes(key)\n                ? obj[key]\n                : transferKeyToUpperCase(obj[key], whiteListForItself, whiteListForChildren);\n        }\n    }\n    return ret;\n};\n/**\n * Return true if the object is a strict object\n * which means it's not Array, Function, Number, String, Boolean or Null\n * @param obj the Object\n */\nexport var isStrictObject = function (obj) {\n    return (obj instanceof Object &&\n        !(obj instanceof Array) &&\n        !(obj instanceof Function) &&\n        !(obj instanceof Number) &&\n        !(obj instanceof String) &&\n        !(obj instanceof Boolean));\n};\n/**\n * @deprecated use per-function imports\n */\nvar JS = /** @class */ (function () {\n    function JS() {\n    }\n    JS.isEmpty = isEmpty;\n    JS.sortByField = sortByField;\n    JS.objectLessAttributes = objectLessAttributes;\n    JS.filenameToContentType = filenameToContentType;\n    JS.isTextFile = isTextFile;\n    JS.generateRandomString = generateRandomString;\n    JS.makeQuerablePromise = makeQuerablePromise;\n    JS.isWebWorker = isWebWorker;\n    JS.browserOrNode = browserOrNode;\n    JS.transferKeyToLowerCase = transferKeyToLowerCase;\n    JS.transferKeyToUpperCase = transferKeyToUpperCase;\n    JS.isStrictObject = isStrictObject;\n    return JS;\n}());\nexport { JS };\n/**\n * @deprecated use per-function imports\n */\nexport default JS;\n//# sourceMappingURL=JS.js.map"]},"metadata":{},"sourceType":"module"}