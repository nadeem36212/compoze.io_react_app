{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar ComponentService = /*#__PURE__*/function () {\n  function ComponentService(http, authService, baseUri) {\n    _classCallCheck(this, ComponentService);\n    this.http = http;\n    this.authService = authService;\n    this.baseUri = baseUri;\n  }\n  _createClass(ComponentService, [{\n    key: \"create\",\n    value: function () {\n      var _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(productName, name, technology, attributes) {\n        var url, headers;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = this.createURL(\"/products/\".concat(productName, \"/components\"));\n                _context.t0 = Object;\n                _context.t1 = this.getHeaders();\n                _context.next = 5;\n                return this.getHeaders();\n              case 5:\n                _context.t2 = _context.sent;\n                headers = _context.t0.assign.call(_context.t0, _context.t1, _context.t2);\n                _context.next = 9;\n                return this.http.post(url, {\n                  name: name,\n                  technology: technology,\n                  attributes: attributes,\n                  environmentVariables: {}\n                }, {\n                  headers: headers\n                });\n              case 9:\n                _context.next = 11;\n                return _context.sent.data;\n              case 11:\n                return _context.abrupt(\"return\", _context.sent);\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function create(_x, _x2, _x3, _x4) {\n        return _create.apply(this, arguments);\n      }\n      return create;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(productName, componentName) {\n        var url, headers;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                url = this.createURL(\"/products/\".concat(productName, \"/components/\").concat(componentName));\n                _context2.t0 = Object;\n                _context2.t1 = this.getHeaders();\n                _context2.next = 5;\n                return this.getHeaders();\n              case 5:\n                _context2.t2 = _context2.sent;\n                headers = _context2.t0.assign.call(_context2.t0, _context2.t1, _context2.t2);\n                _context2.next = 9;\n                return this.http.get(url, {\n                  headers: headers\n                });\n              case 9:\n                _context2.next = 11;\n                return _context2.sent.data;\n              case 11:\n                return _context2.abrupt(\"return\", _context2.sent);\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function get(_x5, _x6) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(productName, componentName) {\n        var url, headers;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = this.createURL(\"/products/\".concat(productName, \"/components/\").concat(componentName));\n                _context3.t0 = Object;\n                _context3.t1 = this.getHeaders();\n                _context3.next = 5;\n                return this.getHeaders();\n              case 5:\n                _context3.t2 = _context3.sent;\n                headers = _context3.t0.assign.call(_context3.t0, _context3.t1, _context3.t2);\n                _context3.next = 9;\n                return this.http.delete(url, {\n                  headers: headers\n                });\n              case 9:\n                _context3.next = 11;\n                return _context3.sent.data;\n              case 11:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function _delete(_x7, _x8) {\n        return _delete2.apply(this, arguments);\n      }\n      return _delete;\n    }()\n  }, {\n    key: \"createURL\",\n    value: function createURL(urlPath) {\n      return this.baseUri + urlPath;\n    }\n  }, {\n    key: \"getHeaders\",\n    value: function () {\n      var _getHeaders = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var Authorization;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.authService.getToken();\n              case 2:\n                Authorization = _context4.sent;\n                return _context4.abrupt(\"return\", Authorization ? {\n                  Authorization: Authorization,\n                  gitUser: \"hello\",\n                  githubToken: \"world\"\n                } : {});\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function getHeaders() {\n        return _getHeaders.apply(this, arguments);\n      }\n      return getHeaders;\n    }()\n  }]);\n  return ComponentService;\n}();\nexport { ComponentService as default };","map":{"version":3,"names":["ComponentService","http","authService","baseUri","productName","name","technology","attributes","url","createURL","Object","getHeaders","headers","assign","post","environmentVariables","data","componentName","get","delete","urlPath","getToken","Authorization","gitUser","githubToken"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/service/componentService.ts"],"sourcesContent":["import { AxiosInstance } from \"axios\";\nimport { Component } from \"../features/component/componentSlice\";\nimport AuthService from \"./authService\";\n\nexport default class ComponentService {\n    constructor(\n        protected readonly http: AxiosInstance,\n        protected readonly authService: AuthService,\n        protected readonly baseUri: string\n    ) { }\n\n    async create(productName: string, name: string, technology: string, attributes: any): Promise<Component> {\n        const url = this.createURL(`/products/${productName}/components`);\n\n        const headers = Object.assign(this.getHeaders(), await this.getHeaders());\n\n        return await (await this.http.post<Component>(\n            url,\n            {\n                name,\n                technology,\n                attributes,\n                environmentVariables: {},\n            },\n            { headers }\n        )).data;\n    }\n\n    async get(productName: string, componentName: string): Promise<Component> {\n        const url = this.createURL(`/products/${productName}/components/${componentName}`);\n\n        const headers = Object.assign(this.getHeaders(), await this.getHeaders());\n\n        return await (await this.http.get(url, { headers })).data\n\n    }\n\n    async delete(productName: string, componentName: string): Promise<Component> {\n        const url = this.createURL(`/products/${productName}/components/${componentName}`);\n\n        const headers = Object.assign(this.getHeaders(), await this.getHeaders());\n\n        return await (await this.http.delete(url, { headers })).data\n\n    }\n\n    private createURL(urlPath: string): string {\n        return this.baseUri + urlPath;\n    }\n\n\n    private async getHeaders(): Promise<any> {\n        const Authorization = await this.authService.getToken();\n        return Authorization ? { Authorization, gitUser: \"hello\", githubToken: \"world\" } : {};\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}