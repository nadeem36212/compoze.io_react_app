{"ast":null,"code":"import _without from \"lodash/without\";\nimport _pick from \"lodash/pick\";\nimport _keys from \"lodash/keys\";\nimport _isNil from \"lodash/isNil\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _difference from \"lodash/difference\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nimport React from \"react\";\nimport * as Events from \"./events\";\nimport isEqual from \"react-fast-compare\";\nimport { VictoryTransition } from \"../victory-transition/victory-transition\";\n\n// DISCLAIMER:\n// This file is not currently tested, and it is first on the list of files\n// to refactor in our current refactoring effort. Please do not make changes\n// to this file without manual testing and/or refactoring and adding tests.\nvar datumHasXandY = function datumHasXandY(datum) {\n  return !_isNil(datum._x) && !_isNil(datum._y);\n}; //  used for checking state changes. Expected components can be passed in via options\n\nvar defaultComponents = [{\n  name: \"parent\",\n  index: \"parent\"\n}, {\n  name: \"data\"\n}, {\n  name: \"labels\"\n}];\nexport function addEvents(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // @ts-expect-error \"TS2545: A mixin class must have a constructor with a single rest parameter of type 'any[]'.\"\n  var AddEventsMixin = /*#__PURE__*/function (_WrappedComponent) {\n    _inherits(AddEventsMixin, _WrappedComponent);\n    var _super = _createSuper(AddEventsMixin);\n    function AddEventsMixin(props) {\n      var _this;\n      _classCallCheck(this, AddEventsMixin);\n      _this = _super.call(this, props);\n      _this.state = {};\n      _this.getEventState = Events.getEventState.bind(_assertThisInitialized(_this));\n      _this.getScopedEvents = Events.getScopedEvents.bind(_assertThisInitialized(_this));\n      _this.getEvents = function (p, target, eventKey) {\n        return Events.getEvents.call(_assertThisInitialized(_this), p, target, eventKey, _this.getScopedEvents);\n      };\n      _this.externalMutations = _this.getExternalMutations(_this.props);\n      _this.calculatedState = _this.getStateChanges(_this.props);\n      _this.globalEvents = {};\n      _this.prevGlobalEventKeys = [];\n      _this.boundGlobalEvents = {};\n      _this.cacheValues(_this.getCalculatedValues(props));\n      return _this;\n    }\n    _createClass(AddEventsMixin, [{\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps) {\n        var externalMutations = this.getExternalMutations(nextProps); // @ts-expect-error \"Property 'animating' does not exist on type EventMixinCommonProps\"\n\n        var animating = this.props.animating || this.props.animate;\n        var newMutation = !isEqual(externalMutations, this.externalMutations);\n        if (animating || newMutation) {\n          this.cacheValues(this.getCalculatedValues(nextProps));\n          this.externalMutations = externalMutations;\n          this.applyExternalMutations(nextProps, externalMutations);\n          return true;\n        }\n        var calculatedState = this.getStateChanges(nextProps);\n        if (!isEqual(this.calculatedState, calculatedState)) {\n          this.cacheValues(this.getCalculatedValues(nextProps));\n          return true;\n        }\n        if (!isEqual(this.props, nextProps)) {\n          this.cacheValues(this.getCalculatedValues(nextProps));\n          return true;\n        }\n        return false;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n        var globalEventKeys = _keys(this.globalEvents);\n        globalEventKeys.forEach(function (key) {\n          return _this2.addGlobalListener(key);\n        });\n        this.prevGlobalEventKeys = globalEventKeys;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var _this3 = this;\n        var calculatedState = this.getStateChanges(prevProps);\n        this.calculatedState = calculatedState;\n        var globalEventKeys = _keys(this.globalEvents);\n        var removedGlobalEventKeys = _difference(this.prevGlobalEventKeys, globalEventKeys);\n        removedGlobalEventKeys.forEach(function (key) {\n          return _this3.removeGlobalListener(key);\n        });\n        var addedGlobalEventKeys = _difference(globalEventKeys, this.prevGlobalEventKeys);\n        addedGlobalEventKeys.forEach(function (key) {\n          return _this3.addGlobalListener(key);\n        });\n        this.prevGlobalEventKeys = globalEventKeys;\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this4 = this;\n        this.prevGlobalEventKeys.forEach(function (key) {\n          return _this4.removeGlobalListener(key);\n        });\n      }\n    }, {\n      key: \"addGlobalListener\",\n      value: function addGlobalListener(key) {\n        var _this5 = this;\n        var boundListener = function boundListener(event) {\n          var listener = _this5.globalEvents[key];\n          return listener && listener(Events.emulateReactEvent(event));\n        };\n        this.boundGlobalEvents[key] = boundListener;\n        window.addEventListener(Events.getGlobalEventNameFromKey(key), boundListener);\n      }\n    }, {\n      key: \"removeGlobalListener\",\n      value: function removeGlobalListener(key) {\n        window.removeEventListener(Events.getGlobalEventNameFromKey(key), this.boundGlobalEvents[key]);\n      } // compile all state changes from own and parent state. Order doesn't matter, as any state\n      // state change should trigger a re-render\n    }, {\n      key: \"getStateChanges\",\n      value: function getStateChanges(props) {\n        var _this6 = this;\n        if (!this.hasEvents) {\n          return {};\n        }\n        var getState = function getState(key, type) {\n          var result = _defaults({}, _this6.getEventState(key, type), _this6.getSharedEventState(key, type));\n          return _isEmpty(result) ? undefined : result;\n        };\n        var components = options.components || defaultComponents;\n        var stateChanges = components.map(function (component) {\n          if (!props.standalone && component.name === \"parent\") {\n            // don't check for changes on parent props for non-standalone components\n            return undefined;\n          }\n          return component.index !== undefined ? getState(component.index, component.name) : _this6.dataKeys.map(function (key) {\n            return getState(key, component.name);\n          }).filter(Boolean);\n        }).filter(Boolean);\n        return stateChanges;\n      }\n    }, {\n      key: \"applyExternalMutations\",\n      value: function applyExternalMutations(props, externalMutations) {\n        if (!_isEmpty(externalMutations)) {\n          var callbacks = props.externalEventMutations.reduce(function (memo, mutation) {\n            memo = _isFunction(mutation.callback) ? memo.concat(mutation.callback) : memo;\n            return memo;\n          }, []);\n          var compiledCallbacks = callbacks.length ? function () {\n            callbacks.forEach(function (c) {\n              return c();\n            });\n          } : undefined;\n          this.setState(externalMutations, compiledCallbacks);\n        }\n      }\n    }, {\n      key: \"getCalculatedValues\",\n      value: function getCalculatedValues(props) {\n        var sharedEvents = props.sharedEvents;\n        var components = WrappedComponent.expectedComponents;\n        var componentEvents = Events.getComponentEvents(props, components);\n        var getSharedEventState = sharedEvents && _isFunction(sharedEvents.getEventState) ? sharedEvents.getEventState : function () {\n          return undefined;\n        };\n        var baseProps = this.getBaseProps(props, getSharedEventState);\n        var dataKeys = _keys(baseProps).filter(function (key) {\n          return key !== \"parent\";\n        });\n        var hasEvents = props.events || props.sharedEvents || componentEvents;\n        var events = this.getAllEvents(props);\n        return {\n          componentEvents: componentEvents,\n          getSharedEventState: getSharedEventState,\n          baseProps: baseProps,\n          dataKeys: dataKeys,\n          hasEvents: hasEvents,\n          events: events\n        };\n      }\n    }, {\n      key: \"getExternalMutations\",\n      value: function getExternalMutations(props) {\n        var sharedEvents = props.sharedEvents,\n          externalEventMutations = props.externalEventMutations;\n        return _isEmpty(externalEventMutations) || sharedEvents ? undefined : Events.getExternalMutations(externalEventMutations, this.baseProps, this.state);\n      }\n    }, {\n      key: \"cacheValues\",\n      value: function cacheValues(obj) {\n        var _this7 = this;\n        _keys(obj).forEach(function (key) {\n          _this7[key] = obj[key];\n        });\n      }\n    }, {\n      key: \"getBaseProps\",\n      value: function getBaseProps(props, getSharedEventState) {\n        getSharedEventState = getSharedEventState || this.getSharedEventState.bind(this);\n        var sharedParentState = getSharedEventState(\"parent\", \"parent\");\n        var parentState = this.getEventState(\"parent\", \"parent\");\n        var baseParentProps = _defaults({}, parentState, sharedParentState);\n        var parentPropsList = baseParentProps.parentControlledProps;\n        var parentProps = parentPropsList ? _pick(baseParentProps, parentPropsList) : {};\n        var modifiedProps = _defaults({}, parentProps, props);\n        return typeof WrappedComponent.getBaseProps === \"function\" ? WrappedComponent.getBaseProps(modifiedProps) : {};\n      }\n    }, {\n      key: \"getAllEvents\",\n      value: function getAllEvents(props) {\n        if (Array.isArray(this.componentEvents)) {\n          var _this$componentEvents;\n          return Array.isArray(props.events) ? (_this$componentEvents = this.componentEvents).concat.apply(_this$componentEvents, _toConsumableArray(props.events)) : this.componentEvents;\n        }\n        return props.events;\n      }\n    }, {\n      key: \"getComponentProps\",\n      value: function getComponentProps(component, type, index) {\n        var name = this.props.name || WrappedComponent.role;\n        var key = this.dataKeys && this.dataKeys[index] || index;\n        var id = \"\".concat(name, \"-\").concat(type, \"-\").concat(key);\n        var baseProps = this.baseProps[key] && this.baseProps[key][type] || this.baseProps[key];\n        if (!baseProps && !this.hasEvents) {\n          return undefined;\n        }\n        if (this.hasEvents) {\n          var baseEvents = this.getEvents(this.props, type, key);\n          var componentProps = _defaults({\n            index: index,\n            key: id\n          }, this.getEventState(key, type), this.getSharedEventState(key, type), component.props, baseProps, {\n            id: id\n          });\n          var events = _defaults({}, Events.getPartialEvents(baseEvents, key, componentProps), componentProps.events);\n          return _assign({}, componentProps, {\n            events: events\n          });\n        }\n        return _defaults({\n          index: index,\n          key: id\n        }, component.props, baseProps, {\n          id: id\n        });\n      }\n    }, {\n      key: \"renderContainer\",\n      value: function renderContainer(component, children) {\n        var isContainer = component.type && component.type.role === \"container\";\n        var parentProps = isContainer ? this.getComponentProps(component, \"parent\", \"parent\") : {};\n        if (parentProps.events) {\n          this.globalEvents = Events.getGlobalEvents(parentProps.events);\n          parentProps.events = Events.omitGlobalEvents(parentProps.events);\n        }\n        return /*#__PURE__*/React.cloneElement(component, parentProps, children);\n      }\n    }, {\n      key: \"animateComponent\",\n      value: function animateComponent(props, defaultAnimationWhitelist) {\n        var _props$animate;\n        var animationWhitelist = typeof props.animate === \"object\" && ((_props$animate = props.animate) === null || _props$animate === void 0 ? void 0 : _props$animate.animationWhitelist) || defaultAnimationWhitelist;\n        var Comp = this.constructor;\n        return /*#__PURE__*/React.createElement(VictoryTransition, {\n          animate: props.animate,\n          animationWhitelist: animationWhitelist\n        }, /*#__PURE__*/React.createElement(Comp, props));\n      } // Used by `VictoryLine` and `VictoryArea`\n    }, {\n      key: \"renderContinuousData\",\n      value: function renderContinuousData(props) {\n        var _this8 = this;\n        var dataComponent = props.dataComponent,\n          labelComponent = props.labelComponent,\n          groupComponent = props.groupComponent;\n        var dataKeys = _without(this.dataKeys, \"all\");\n        var labelComponents = dataKeys.reduce(function (memo, key) {\n          var labelProps = _this8.getComponentProps(labelComponent, \"labels\", key);\n          if (labelProps && labelProps.text !== undefined && labelProps.text !== null) {\n            memo = memo.concat( /*#__PURE__*/React.cloneElement(labelComponent, labelProps));\n          }\n          return memo;\n        }, []);\n        var dataProps = this.getComponentProps(dataComponent, \"data\", \"all\");\n        var children = [/*#__PURE__*/React.cloneElement(dataComponent, dataProps)].concat(_toConsumableArray(labelComponents));\n        return this.renderContainer(groupComponent, children);\n      }\n    }, {\n      key: \"renderData\",\n      value: function renderData(props) {\n        var _this9 = this;\n        var shouldRenderDatum = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : datumHasXandY;\n        var dataComponent = props.dataComponent,\n          labelComponent = props.labelComponent,\n          groupComponent = props.groupComponent;\n        var dataComponents = this.dataKeys.reduce(function (validDataComponents, _dataKey, index) {\n          var dataProps = _this9.getComponentProps(dataComponent, \"data\", index);\n          if (shouldRenderDatum(dataProps.datum)) {\n            validDataComponents.push( /*#__PURE__*/React.cloneElement(dataComponent, dataProps));\n          }\n          return validDataComponents;\n        }, []);\n        var labelComponents = this.dataKeys.map(function (_dataKey, index) {\n          var labelProps = _this9.getComponentProps(labelComponent, \"labels\", index);\n          if (labelProps.text !== undefined && labelProps.text !== null) {\n            return /*#__PURE__*/React.cloneElement(labelComponent, labelProps);\n          }\n          return undefined;\n        }).filter(Boolean);\n        var children = [].concat(_toConsumableArray(dataComponents), _toConsumableArray(labelComponents));\n        return this.renderContainer(groupComponent, children);\n      }\n    }]);\n    return AddEventsMixin;\n  }(WrappedComponent);\n  return AddEventsMixin;\n}","map":{"version":3,"names":["_without","_pick","_keys","_isNil","_isFunction","_isEmpty","_difference","_defaults","_assign","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","React","Events","isEqual","VictoryTransition","datumHasXandY","datum","_x","_y","defaultComponents","index","addEvents","WrappedComponent","options","undefined","AddEventsMixin","_WrappedComponent","_super","_this","state","getEventState","getScopedEvents","getEvents","eventKey","externalMutations","getExternalMutations","calculatedState","getStateChanges","globalEvents","prevGlobalEventKeys","boundGlobalEvents","cacheValues","getCalculatedValues","shouldComponentUpdate","nextProps","animating","animate","newMutation","applyExternalMutations","componentDidMount","_this2","globalEventKeys","forEach","addGlobalListener","componentDidUpdate","prevProps","_this3","removedGlobalEventKeys","removeGlobalListener","addedGlobalEventKeys","componentWillUnmount","_this4","_this5","boundListener","event","listener","emulateReactEvent","window","addEventListener","getGlobalEventNameFromKey","removeEventListener","_this6","hasEvents","getState","type","getSharedEventState","components","stateChanges","map","component","standalone","dataKeys","filter","callbacks","externalEventMutations","reduce","memo","mutation","callback","concat","compiledCallbacks","c","setState","sharedEvents","expectedComponents","componentEvents","getComponentEvents","baseProps","getBaseProps","events","getAllEvents","obj","_this7","sharedParentState","parentState","baseParentProps","parentPropsList","parentControlledProps","parentProps","modifiedProps","_this$componentEvents","getComponentProps","role","id","baseEvents","componentProps","getPartialEvents","renderContainer","children","isContainer","getGlobalEvents","omitGlobalEvents","cloneElement","animateComponent","defaultAnimationWhitelist","_props$animate","animationWhitelist","Comp","createElement","renderContinuousData","_this8","dataComponent","labelComponent","groupComponent","labelComponents","labelProps","text","dataProps","renderData","_this9","shouldRenderDatum","dataComponents","validDataComponents","_dataKey","push"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/victory-core/es/victory-util/add-events.js"],"sourcesContent":["import _without from \"lodash/without\";\nimport _pick from \"lodash/pick\";\nimport _keys from \"lodash/keys\";\nimport _isNil from \"lodash/isNil\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _difference from \"lodash/difference\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from \"react\";\nimport * as Events from \"./events\";\nimport isEqual from \"react-fast-compare\";\nimport { VictoryTransition } from \"../victory-transition/victory-transition\";\n\n// DISCLAIMER:\n// This file is not currently tested, and it is first on the list of files\n// to refactor in our current refactoring effort. Please do not make changes\n// to this file without manual testing and/or refactoring and adding tests.\nvar datumHasXandY = function (datum) {\n  return !_isNil(datum._x) && !_isNil(datum._y);\n}; //  used for checking state changes. Expected components can be passed in via options\n\n\nvar defaultComponents = [{\n  name: \"parent\",\n  index: \"parent\"\n}, {\n  name: \"data\"\n}, {\n  name: \"labels\"\n}];\nexport function addEvents(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // @ts-expect-error \"TS2545: A mixin class must have a constructor with a single rest parameter of type 'any[]'.\"\n  var AddEventsMixin = /*#__PURE__*/function (_WrappedComponent) {\n    _inherits(AddEventsMixin, _WrappedComponent);\n\n    var _super = _createSuper(AddEventsMixin);\n\n    function AddEventsMixin(props) {\n      var _this;\n\n      _classCallCheck(this, AddEventsMixin);\n\n      _this = _super.call(this, props);\n      _this.state = {};\n      _this.getEventState = Events.getEventState.bind(_assertThisInitialized(_this));\n      _this.getScopedEvents = Events.getScopedEvents.bind(_assertThisInitialized(_this));\n\n      _this.getEvents = function (p, target, eventKey) {\n        return Events.getEvents.call(_assertThisInitialized(_this), p, target, eventKey, _this.getScopedEvents);\n      };\n\n      _this.externalMutations = _this.getExternalMutations(_this.props);\n      _this.calculatedState = _this.getStateChanges(_this.props);\n      _this.globalEvents = {};\n      _this.prevGlobalEventKeys = [];\n      _this.boundGlobalEvents = {};\n\n      _this.cacheValues(_this.getCalculatedValues(props));\n\n      return _this;\n    }\n\n    _createClass(AddEventsMixin, [{\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps) {\n        var externalMutations = this.getExternalMutations(nextProps); // @ts-expect-error \"Property 'animating' does not exist on type EventMixinCommonProps\"\n\n        var animating = this.props.animating || this.props.animate;\n        var newMutation = !isEqual(externalMutations, this.externalMutations);\n\n        if (animating || newMutation) {\n          this.cacheValues(this.getCalculatedValues(nextProps));\n          this.externalMutations = externalMutations;\n          this.applyExternalMutations(nextProps, externalMutations);\n          return true;\n        }\n\n        var calculatedState = this.getStateChanges(nextProps);\n\n        if (!isEqual(this.calculatedState, calculatedState)) {\n          this.cacheValues(this.getCalculatedValues(nextProps));\n          return true;\n        }\n\n        if (!isEqual(this.props, nextProps)) {\n          this.cacheValues(this.getCalculatedValues(nextProps));\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var globalEventKeys = _keys(this.globalEvents);\n\n        globalEventKeys.forEach(function (key) {\n          return _this2.addGlobalListener(key);\n        });\n        this.prevGlobalEventKeys = globalEventKeys;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var _this3 = this;\n\n        var calculatedState = this.getStateChanges(prevProps);\n        this.calculatedState = calculatedState;\n\n        var globalEventKeys = _keys(this.globalEvents);\n\n        var removedGlobalEventKeys = _difference(this.prevGlobalEventKeys, globalEventKeys);\n\n        removedGlobalEventKeys.forEach(function (key) {\n          return _this3.removeGlobalListener(key);\n        });\n\n        var addedGlobalEventKeys = _difference(globalEventKeys, this.prevGlobalEventKeys);\n\n        addedGlobalEventKeys.forEach(function (key) {\n          return _this3.addGlobalListener(key);\n        });\n        this.prevGlobalEventKeys = globalEventKeys;\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this4 = this;\n\n        this.prevGlobalEventKeys.forEach(function (key) {\n          return _this4.removeGlobalListener(key);\n        });\n      }\n    }, {\n      key: \"addGlobalListener\",\n      value: function addGlobalListener(key) {\n        var _this5 = this;\n\n        var boundListener = function (event) {\n          var listener = _this5.globalEvents[key];\n          return listener && listener(Events.emulateReactEvent(event));\n        };\n\n        this.boundGlobalEvents[key] = boundListener;\n        window.addEventListener(Events.getGlobalEventNameFromKey(key), boundListener);\n      }\n    }, {\n      key: \"removeGlobalListener\",\n      value: function removeGlobalListener(key) {\n        window.removeEventListener(Events.getGlobalEventNameFromKey(key), this.boundGlobalEvents[key]);\n      } // compile all state changes from own and parent state. Order doesn't matter, as any state\n      // state change should trigger a re-render\n\n    }, {\n      key: \"getStateChanges\",\n      value: function getStateChanges(props) {\n        var _this6 = this;\n\n        if (!this.hasEvents) {\n          return {};\n        }\n\n        var getState = function (key, type) {\n          var result = _defaults({}, _this6.getEventState(key, type), _this6.getSharedEventState(key, type));\n\n          return _isEmpty(result) ? undefined : result;\n        };\n\n        var components = options.components || defaultComponents;\n        var stateChanges = components.map(function (component) {\n          if (!props.standalone && component.name === \"parent\") {\n            // don't check for changes on parent props for non-standalone components\n            return undefined;\n          }\n\n          return component.index !== undefined ? getState(component.index, component.name) : _this6.dataKeys.map(function (key) {\n            return getState(key, component.name);\n          }).filter(Boolean);\n        }).filter(Boolean);\n        return stateChanges;\n      }\n    }, {\n      key: \"applyExternalMutations\",\n      value: function applyExternalMutations(props, externalMutations) {\n        if (!_isEmpty(externalMutations)) {\n          var callbacks = props.externalEventMutations.reduce(function (memo, mutation) {\n            memo = _isFunction(mutation.callback) ? memo.concat(mutation.callback) : memo;\n            return memo;\n          }, []);\n          var compiledCallbacks = callbacks.length ? function () {\n            callbacks.forEach(function (c) {\n              return c();\n            });\n          } : undefined;\n          this.setState(externalMutations, compiledCallbacks);\n        }\n      }\n    }, {\n      key: \"getCalculatedValues\",\n      value: function getCalculatedValues(props) {\n        var sharedEvents = props.sharedEvents;\n        var components = WrappedComponent.expectedComponents;\n        var componentEvents = Events.getComponentEvents(props, components);\n        var getSharedEventState = sharedEvents && _isFunction(sharedEvents.getEventState) ? sharedEvents.getEventState : function () {\n          return undefined;\n        };\n        var baseProps = this.getBaseProps(props, getSharedEventState);\n\n        var dataKeys = _keys(baseProps).filter(function (key) {\n          return key !== \"parent\";\n        });\n\n        var hasEvents = props.events || props.sharedEvents || componentEvents;\n        var events = this.getAllEvents(props);\n        return {\n          componentEvents: componentEvents,\n          getSharedEventState: getSharedEventState,\n          baseProps: baseProps,\n          dataKeys: dataKeys,\n          hasEvents: hasEvents,\n          events: events\n        };\n      }\n    }, {\n      key: \"getExternalMutations\",\n      value: function getExternalMutations(props) {\n        var sharedEvents = props.sharedEvents,\n            externalEventMutations = props.externalEventMutations;\n        return _isEmpty(externalEventMutations) || sharedEvents ? undefined : Events.getExternalMutations(externalEventMutations, this.baseProps, this.state);\n      }\n    }, {\n      key: \"cacheValues\",\n      value: function cacheValues(obj) {\n        var _this7 = this;\n\n        _keys(obj).forEach(function (key) {\n          _this7[key] = obj[key];\n        });\n      }\n    }, {\n      key: \"getBaseProps\",\n      value: function getBaseProps(props, getSharedEventState) {\n        getSharedEventState = getSharedEventState || this.getSharedEventState.bind(this);\n        var sharedParentState = getSharedEventState(\"parent\", \"parent\");\n        var parentState = this.getEventState(\"parent\", \"parent\");\n\n        var baseParentProps = _defaults({}, parentState, sharedParentState);\n\n        var parentPropsList = baseParentProps.parentControlledProps;\n        var parentProps = parentPropsList ? _pick(baseParentProps, parentPropsList) : {};\n\n        var modifiedProps = _defaults({}, parentProps, props);\n\n        return typeof WrappedComponent.getBaseProps === \"function\" ? WrappedComponent.getBaseProps(modifiedProps) : {};\n      }\n    }, {\n      key: \"getAllEvents\",\n      value: function getAllEvents(props) {\n        if (Array.isArray(this.componentEvents)) {\n          var _this$componentEvents;\n\n          return Array.isArray(props.events) ? (_this$componentEvents = this.componentEvents).concat.apply(_this$componentEvents, _toConsumableArray(props.events)) : this.componentEvents;\n        }\n\n        return props.events;\n      }\n    }, {\n      key: \"getComponentProps\",\n      value: function getComponentProps(component, type, index) {\n        var name = this.props.name || WrappedComponent.role;\n        var key = this.dataKeys && this.dataKeys[index] || index;\n        var id = \"\".concat(name, \"-\").concat(type, \"-\").concat(key);\n        var baseProps = this.baseProps[key] && this.baseProps[key][type] || this.baseProps[key];\n\n        if (!baseProps && !this.hasEvents) {\n          return undefined;\n        }\n\n        if (this.hasEvents) {\n          var baseEvents = this.getEvents(this.props, type, key);\n\n          var componentProps = _defaults({\n            index: index,\n            key: id\n          }, this.getEventState(key, type), this.getSharedEventState(key, type), component.props, baseProps, {\n            id: id\n          });\n\n          var events = _defaults({}, Events.getPartialEvents(baseEvents, key, componentProps), componentProps.events);\n\n          return _assign({}, componentProps, {\n            events: events\n          });\n        }\n\n        return _defaults({\n          index: index,\n          key: id\n        }, component.props, baseProps, {\n          id: id\n        });\n      }\n    }, {\n      key: \"renderContainer\",\n      value: function renderContainer(component, children) {\n        var isContainer = component.type && component.type.role === \"container\";\n        var parentProps = isContainer ? this.getComponentProps(component, \"parent\", \"parent\") : {};\n\n        if (parentProps.events) {\n          this.globalEvents = Events.getGlobalEvents(parentProps.events);\n          parentProps.events = Events.omitGlobalEvents(parentProps.events);\n        }\n\n        return /*#__PURE__*/React.cloneElement(component, parentProps, children);\n      }\n    }, {\n      key: \"animateComponent\",\n      value: function animateComponent(props, defaultAnimationWhitelist) {\n        var _props$animate;\n\n        var animationWhitelist = typeof props.animate === \"object\" && ((_props$animate = props.animate) === null || _props$animate === void 0 ? void 0 : _props$animate.animationWhitelist) || defaultAnimationWhitelist;\n        var Comp = this.constructor;\n        return /*#__PURE__*/React.createElement(VictoryTransition, {\n          animate: props.animate,\n          animationWhitelist: animationWhitelist\n        }, /*#__PURE__*/React.createElement(Comp, props));\n      } // Used by `VictoryLine` and `VictoryArea`\n\n    }, {\n      key: \"renderContinuousData\",\n      value: function renderContinuousData(props) {\n        var _this8 = this;\n\n        var dataComponent = props.dataComponent,\n            labelComponent = props.labelComponent,\n            groupComponent = props.groupComponent;\n\n        var dataKeys = _without(this.dataKeys, \"all\");\n\n        var labelComponents = dataKeys.reduce(function (memo, key) {\n          var labelProps = _this8.getComponentProps(labelComponent, \"labels\", key);\n\n          if (labelProps && labelProps.text !== undefined && labelProps.text !== null) {\n            memo = memo.concat( /*#__PURE__*/React.cloneElement(labelComponent, labelProps));\n          }\n\n          return memo;\n        }, []);\n        var dataProps = this.getComponentProps(dataComponent, \"data\", \"all\");\n        var children = [/*#__PURE__*/React.cloneElement(dataComponent, dataProps)].concat(_toConsumableArray(labelComponents));\n        return this.renderContainer(groupComponent, children);\n      }\n    }, {\n      key: \"renderData\",\n      value: function renderData(props) {\n        var _this9 = this;\n\n        var shouldRenderDatum = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : datumHasXandY;\n        var dataComponent = props.dataComponent,\n            labelComponent = props.labelComponent,\n            groupComponent = props.groupComponent;\n        var dataComponents = this.dataKeys.reduce(function (validDataComponents, _dataKey, index) {\n          var dataProps = _this9.getComponentProps(dataComponent, \"data\", index);\n\n          if (shouldRenderDatum(dataProps.datum)) {\n            validDataComponents.push( /*#__PURE__*/React.cloneElement(dataComponent, dataProps));\n          }\n\n          return validDataComponents;\n        }, []);\n        var labelComponents = this.dataKeys.map(function (_dataKey, index) {\n          var labelProps = _this9.getComponentProps(labelComponent, \"labels\", index);\n\n          if (labelProps.text !== undefined && labelProps.text !== null) {\n            return /*#__PURE__*/React.cloneElement(labelComponent, labelProps);\n          }\n\n          return undefined;\n        }).filter(Boolean);\n        var children = [].concat(_toConsumableArray(dataComponents), _toConsumableArray(labelComponents));\n        return this.renderContainer(groupComponent, children);\n      }\n    }]);\n\n    return AddEventsMixin;\n  }(WrappedComponent);\n\n  return AddEventsMixin;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}