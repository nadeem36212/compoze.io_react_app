{"ast":null,"code":"import _slicedToArray from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/component/create/CreateComponentTemplatePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport NavBar from \"../../../navigation/navbar\";\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport routes from '../../../routes';\nimport { createComponent } from '../componentSlice';\nimport ConfirmComponentCreate from './ConfirmComponentCreate';\nimport EC2FromTemplateCreationPage from './template/EC2FromTemplateCreationPage';\nimport { selectTemplates } from '../../templates/templateSlice';\nimport RDSComponentCreation from './rds/RDSComponentCreation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateComponentTemplatePage() {\n  _s();\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    attributes = _useState2[0],\n    setAttributes = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    name = _useState6[0],\n    setName = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    formFilledOut = _useState8[0],\n    setFormFilledOut = _useState8[1];\n  var params = useParams();\n  var history = useHistory();\n  var dispatch = useAppDispatch();\n  var templates = useAppSelector(selectTemplates);\n  var templateId = params.templateId;\n  var template = templates.find(function (t) {\n    return t.id === templateId;\n  });\n  var navigateToProductHome = function navigateToProductHome() {\n    history.push(routes.PRODUCTDETAILS.path.replace(':name', params.name));\n  };\n  var finishForm = function finishForm() {\n    setFormFilledOut(true);\n  };\n  var dispatchCreateComponent = function dispatchCreateComponent(productName, name, technology, attributes) {\n    dispatch(createComponent({\n      productName: productName,\n      name: name,\n      technology: technology,\n      attributes: attributes\n    })).then(function () {\n      navigateToProductHome();\n    }).catch(function () {\n      setError(true);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CreateComponent container py-3\",\n      children: [template && !formFilledOut && template.technology === \"EC2\" && /*#__PURE__*/_jsxDEV(EC2FromTemplateCreationPage, {\n        setName: setName,\n        finishForm: finishForm,\n        setAttributes: setAttributes,\n        template: template\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), template && !formFilledOut && template.technology === \"RDS\" && /*#__PURE__*/_jsxDEV(RDSComponentCreation, {\n        setName: setName,\n        finishForm: finishForm,\n        setAttributes: setAttributes,\n        template: template\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), formFilledOut && /*#__PURE__*/_jsxDEV(ConfirmComponentCreate, {\n        productName: params.name,\n        name: name,\n        attributes: attributes,\n        onSubmit: dispatchCreateComponent,\n        technology: template.technology\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateComponentTemplatePage, \"fu6R3XdTC2YhuEiZPL8H7ncxoMY=\", false, function () {\n  return [useParams, useHistory, useAppDispatch, useAppSelector];\n});\n_c = CreateComponentTemplatePage;\nvar _c;\n$RefreshReg$(_c, \"CreateComponentTemplatePage\");","map":{"version":3,"names":["React","useState","NavBar","useHistory","useParams","useAppDispatch","useAppSelector","routes","createComponent","ConfirmComponentCreate","EC2FromTemplateCreationPage","selectTemplates","RDSComponentCreation","CreateComponentTemplatePage","attributes","setAttributes","error","setError","name","setName","formFilledOut","setFormFilledOut","params","history","dispatch","templates","templateId","template","find","t","id","navigateToProductHome","push","PRODUCTDETAILS","path","replace","finishForm","dispatchCreateComponent","productName","technology","then","catch"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/component/create/CreateComponentTemplatePage.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\n\nimport NavBar from \"../../../navigation/navbar\";\n\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport routes from '../../../routes';\nimport { createComponent } from '../componentSlice';\nimport ConfirmComponentCreate from './ConfirmComponentCreate';\nimport EC2FromTemplateCreationPage from './template/EC2FromTemplateCreationPage';\nimport { selectTemplates } from '../../templates/templateSlice';\nimport RDSComponentCreation from './rds/RDSComponentCreation';\n\n\nexport default function CreateComponentTemplatePage() {\n  const [attributes, setAttributes] = useState<any>({})\n  const [error, setError] = useState(false)\n  const [name, setName] = useState('')\n  const [formFilledOut, setFormFilledOut] = useState(false)\n\n  const params = useParams<{ name: string, templateId: string }>();\n\n  const history = useHistory();\n  const dispatch = useAppDispatch();\n\n  const templates = useAppSelector(selectTemplates);\n  const templateId = params.templateId\n  const template = templates.find(t => t.id === templateId)!;\n\n  const navigateToProductHome = () => {\n    history.push(routes.PRODUCTDETAILS.path.replace(':name', params.name));\n  }\n\n  const finishForm = () => {\n    setFormFilledOut(true);\n  }\n\n  const dispatchCreateComponent = (productName: string, name: string, technology: string, attributes: any) => {\n\n    dispatch(createComponent({\n      productName,\n      name,\n      technology,\n      attributes\n    }))\n      .then(() => {\n        navigateToProductHome();\n      })\n      .catch(() => { setError(true); });\n  };\n  return (\n    <div className='App container py-3'>\n      <NavBar />\n      <div className='CreateComponent container py-3'>\n\n        {(template && !formFilledOut && template.technology === \"EC2\") &&\n          <EC2FromTemplateCreationPage setName={setName} finishForm={finishForm} setAttributes={setAttributes} template={template} />\n        }\n        {(template && !formFilledOut && template.technology === \"RDS\") &&\n          <RDSComponentCreation setName={setName} finishForm={finishForm} setAttributes={setAttributes} template={template} />\n        }\n        {formFilledOut &&\n          <ConfirmComponentCreate productName={params.name} name={name} attributes={attributes}\n            onSubmit={dispatchCreateComponent}\n            technology={template.technology}\n          />\n        }\n      </div>\n    </div >\n  );\n}\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}