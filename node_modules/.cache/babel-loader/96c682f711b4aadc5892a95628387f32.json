{"ast":null,"code":"var _jsxFileName = \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/costs/costDetails/CostDetails.tsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { Box, Heading, HStack, Spinner, Stack } from '@chakra-ui/react';\nimport { Card } from '../../../components/Card';\nimport { useParams } from \"react-router-dom\";\nimport NavBar from \"../../../navigation/navbar\";\nimport { ProjectedCostBar } from './PercentBar';\nimport { ResourceChart } from '../../complianceDetails/ResourceInventoryChart/PieChart';\nimport { fetchCostDetails, selectCostDetailsStatus } from './costDetailsSlice';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport { useEffect } from 'react';\nimport { VictoryChart, VictoryLine, VictoryTheme } from 'victory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var CostDetailsPage = function CostDetailsPage() {\n  _s();\n  var params = useParams();\n  var width = 620;\n  var height = 330;\n  var dispatch = useAppDispatch();\n  var costDetails = useAppSelector(selectCostDetailsStatus);\n  useEffect(function () {\n    dispatch(fetchCostDetails({\n      accountId: params.id\n    }));\n  }, []);\n  var currentCost = 100;\n  var projectedCost = 150;\n  var resourcesCostPerService = filterResourceCostPerService(costDetails);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, _this), costDetails ? /*#__PURE__*/_jsxDEV(Box, {\n      px: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h1\",\n          size: \"xl\",\n          mb: 8,\n          textAlign: \"center\",\n          children: [params.id, \" Cost Details\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 31,\n          children: [/*#__PURE__*/_jsxDEV(HStack, {\n            spacing: 31,\n            w: \"100%\",\n            h: 400,\n            children: [costCard(currentCost, projectedCost), /*#__PURE__*/_jsxDEV(ResourceChart, {\n              title: \"Cost By Resource\",\n              resourceTotal: resourcesCostPerService.length,\n              height: height,\n              width: width,\n              prefix: '$',\n              data: resourcesCostPerService\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 33\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(Card, {\n            w: \"100%\",\n            h: 400,\n            overflowY: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(Heading, {\n              as: \"h1\",\n              size: \"xl\",\n              variant: \"med-dark\",\n              mb: 4,\n              children: \"Impact Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 33\n            }, _this), /*#__PURE__*/_jsxDEV(Stack, {\n              w: \"50%\",\n              mx: \"3%\",\n              children: /*#__PURE__*/_jsxDEV(VictoryChart, {\n                theme: VictoryTheme.material,\n                children: /*#__PURE__*/_jsxDEV(VictoryLine, {\n                  style: {\n                    data: {\n                      stroke: \"#c43a31\"\n                    },\n                    parent: {\n                      border: \"1px solid #ccc\"\n                    }\n                  },\n                  data: costDetails.costOverTime.map(function (monthCost) {\n                    return {\n                      y: monthCost.price,\n                      x: monthCost.month\n                    };\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 41\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 37\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 33\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Loading \", /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, _this);\n  function filterResourceCostPerService(costDetails) {\n    if (!costDetails) {\n      return [];\n    }\n    return costDetails.resourceCosts.filter(function (resource) {\n      return Number(resource.price) > 0;\n    }).map(function (resource) {\n      return {\n        y: Math.round((Number(resource.price) + Number.EPSILON) * 100) / 100,\n        x: resource.resourceType\n      };\n    });\n  }\n  function costCard(currentCost, projectedCost) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      w: \"35%\",\n      h: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        as: \"h1\",\n        size: \"xl\",\n        variant: \"med-dark\",\n        mb: 4,\n        children: \"Cost This Month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        overflowX: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h3\",\n          size: \"md\",\n          variant: \"med-dark\",\n          children: [\"Projected Cost\", /*#__PURE__*/_jsxDEV(ProjectedCostBar, {\n            compliant: false,\n            number: currentCost,\n            total: projectedCost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 16\n    }, this);\n  }\n};\n_s(CostDetailsPage, \"UHKlgICgGj4KKEn3PNtsGSE3z14=\", false, function () {\n  return [useParams, useAppDispatch, useAppSelector];\n});\n_c = CostDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"CostDetailsPage\");","map":{"version":3,"names":["Box","Heading","HStack","Spinner","Stack","Card","useParams","NavBar","ProjectedCostBar","ResourceChart","fetchCostDetails","selectCostDetailsStatus","useAppDispatch","useAppSelector","useEffect","VictoryChart","VictoryLine","VictoryTheme","CostDetailsPage","params","width","height","dispatch","costDetails","accountId","id","currentCost","projectedCost","resourcesCostPerService","filterResourceCostPerService","costCard","length","material","data","stroke","parent","border","costOverTime","map","monthCost","y","price","x","month","resourceCosts","filter","resource","Number","Math","round","EPSILON","resourceType"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/costs/costDetails/CostDetails.tsx"],"sourcesContent":["import { Box, Heading, HStack, Spinner, Stack } from '@chakra-ui/react';\nimport { Card } from '../../../components/Card';\nimport { useParams } from \"react-router-dom\";\nimport NavBar from \"../../../navigation/navbar\";\nimport { ProjectedCostBar } from './PercentBar';\nimport { ResourceChart } from '../../complianceDetails/ResourceInventoryChart/PieChart';\nimport { CostDetails, fetchCostDetails, selectCostDetailsStatus } from './costDetailsSlice';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport { useEffect } from 'react';\nimport { VictoryChart, VictoryLine, VictoryTheme } from 'victory';\n\nexport const CostDetailsPage = (): JSX.Element => {\n    const params = useParams<{ id: string }>();\n    const width = 620;\n    const height = 330;\n    const dispatch = useAppDispatch();\n\n    const costDetails: CostDetails | undefined = useAppSelector(selectCostDetailsStatus)!;\n\n    useEffect(() => {\n        dispatch(fetchCostDetails({ accountId: params.id }));\n    }, []);\n\n    const currentCost = 100;\n    const projectedCost = 150;\n    const resourcesCostPerService = filterResourceCostPerService(costDetails);\n    return (\n        <div className='App container py-3'>\n            <NavBar />\n            {costDetails ? (\n                <Box px='20px'>\n                    <Box>\n                        <Heading as='h1' size='xl' mb={8} textAlign='center'>\n                            {params.id} Cost Details\n                        </Heading>\n                        <Stack spacing={31}>\n                            <HStack spacing={31} w='100%' h={400}>\n                                {costCard(currentCost, projectedCost)}\n                                <ResourceChart\n                                    title={\"Cost By Resource\"}\n                                    resourceTotal={resourcesCostPerService.length}\n                                    height={height}\n                                    width={width}\n                                    prefix={'$'}\n                                    data={resourcesCostPerService}\n                                />\n                            </HStack>\n                            <Card w='100%' h={400} overflowY='auto'>\n                                <Heading as='h1' size='xl' variant='med-dark' mb={4}>\n                                    Impact Status\n                                </Heading>\n                                <Stack w='50%' mx='3%'>\n                                    <VictoryChart\n                                        theme={VictoryTheme.material}\n                                    >\n                                        <VictoryLine\n                                            style={{\n                                                data: { stroke: \"#c43a31\" },\n                                                parent: { border: \"1px solid #ccc\" }\n                                            }}\n                                            data={costDetails.costOverTime.map(monthCost => {\n                                                return {\n                                                    y: monthCost.price,\n                                                    x: monthCost.month\n                                                }\n                                            })}\n                                        />\n                                    </VictoryChart>\n                                </Stack>\n                            </Card>\n\n                        </Stack>\n                    </Box>\n                </Box>\n            ) : (\n                <div>\n                    Loading <Spinner />\n                </div>\n            )}\n        </div>\n    )\n\n    function filterResourceCostPerService(costDetails: CostDetails | undefined): any {\n        if (!costDetails) {\n            return []\n        }\n        return costDetails.resourceCosts\n            .filter(resource => {\n                return Number(resource.price) > 0;\n            })\n            .map(resource => {\n                return {\n                    y: Math.round((Number(resource.price) + Number.EPSILON) * 100) / 100,\n                    x: resource.resourceType\n                };\n            });\n    }\n\n    function costCard(currentCost: number, projectedCost: number) {\n        return <Card w='35%' h='100%'>\n            <Heading as='h1' size='xl' variant='med-dark' mb={4}>\n                Cost This Month\n            </Heading>\n            <Stack overflowX='auto'>\n                <Heading as='h3' size='md' variant='med-dark'>\n                    Projected Cost\n                    <ProjectedCostBar\n                        compliant={false}\n                        number={currentCost}\n                        total={projectedCost} />\n                </Heading>\n            </Stack>\n        </Card>;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}