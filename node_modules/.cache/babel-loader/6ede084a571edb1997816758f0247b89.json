{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar RestService = /*#__PURE__*/function () {\n  function RestService(http, authService, baseUri) {\n    _classCallCheck(this, RestService);\n    this.http = http;\n    this.authService = authService;\n    this.baseUri = baseUri;\n  }\n  _createClass(RestService, [{\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(urlPath) {\n        var headers,\n          url,\n          response,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headers = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                url = this.createURL(urlPath);\n                _context.t0 = Object;\n                _context.t1 = headers;\n                _context.next = 6;\n                return this.getHeaders();\n              case 6:\n                _context.t2 = _context.sent;\n                _context.t0.assign.call(_context.t0, _context.t1, _context.t2);\n                _context.next = 10;\n                return this.http.get(url, {\n                  headers: headers\n                });\n              case 10:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.data);\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function get(_x) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(path, body) {\n        var headers,\n          url,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                headers = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : {};\n                url = this.createURL(path);\n                _context2.t0 = Object;\n                _context2.t1 = headers;\n                _context2.next = 6;\n                return this.getHeaders();\n              case 6:\n                _context2.t2 = _context2.sent;\n                _context2.t0.assign.call(_context2.t0, _context2.t1, _context2.t2);\n                _context2.next = 10;\n                return this.http.post(url, body, {\n                  headers: headers\n                });\n              case 10:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.data);\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function post(_x2, _x3) {\n        return _post.apply(this, arguments);\n      }\n      return post;\n    }()\n  }, {\n    key: \"unauthenticatedPost\",\n    value: function () {\n      var _unauthenticatedPost = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(path, body) {\n        var headers,\n          url,\n          response,\n          _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                headers = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : {};\n                url = this.createURL(path);\n                Object.assign(headers, {});\n                _context3.next = 5;\n                return this.http.post(url, body, {\n                  headers: headers\n                });\n              case 5:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.data);\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function unauthenticatedPost(_x4, _x5) {\n        return _unauthenticatedPost.apply(this, arguments);\n      }\n      return unauthenticatedPost;\n    }()\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(path, body) {\n        var headers,\n          url,\n          response,\n          _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                headers = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n                url = this.createURL(path);\n                _context4.t0 = Object;\n                _context4.t1 = headers;\n                _context4.next = 6;\n                return this.getHeaders();\n              case 6:\n                _context4.t2 = _context4.sent;\n                _context4.t0.assign.call(_context4.t0, _context4.t1, _context4.t2);\n                _context4.next = 10;\n                return this.http.put(url, body, {\n                  headers: headers\n                });\n              case 10:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.data);\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function put(_x6, _x7) {\n        return _put.apply(this, arguments);\n      }\n      return put;\n    }()\n  }, {\n    key: \"createURL\",\n    value: function createURL(urlPath) {\n      return this.baseUri + urlPath;\n    }\n  }, {\n    key: \"getHeaders\",\n    value: function () {\n      var _getHeaders = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var Authorization;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.authService.getToken();\n              case 2:\n                Authorization = _context5.sent;\n                return _context5.abrupt(\"return\", Authorization ? {\n                  Authorization: Authorization\n                } : {});\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function getHeaders() {\n        return _getHeaders.apply(this, arguments);\n      }\n      return getHeaders;\n    }()\n  }]);\n  return RestService;\n}();\nexport { RestService as default };","map":{"version":3,"names":["RestService","http","authService","baseUri","urlPath","headers","url","createURL","Object","getHeaders","assign","get","response","data","path","body","post","put","getToken","Authorization"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/service/RestService.ts"],"sourcesContent":["import { AxiosInstance } from 'axios';\nimport AuthService from './authService';\n\nexport default class RestService {\n  constructor(\n    protected readonly http: AxiosInstance,\n    protected readonly authService: AuthService,\n    protected readonly baseUri: string\n  ) { }\n\n  public async get<T>(urlPath: string, headers: any = {}): Promise<T> {\n    const url = this.createURL(urlPath);\n    Object.assign(headers, await this.getHeaders());\n    const response = await this.http.get<T>(url, { headers });\n    return response.data;\n  }\n\n  public async post<T>(\n    path: string,\n    body?: any,\n    headers: any = {}\n  ): Promise<T> {\n    const url = this.createURL(path);\n    Object.assign(headers, await this.getHeaders());\n    const response = await this.http.post<T>(url, body, { headers });\n    return response.data;\n  }\n\n  public async unauthenticatedPost<T>(\n    path: string,\n    body?: any,\n    headers: any = {}\n  ): Promise<T> {\n    const url = this.createURL(path);\n    Object.assign(headers, {});\n    const response = await this.http.post<T>(url, body, { headers });\n    return response.data;\n  }\n\n  public async put<T>(path: string, body?: any, headers: any = {}): Promise<T> {\n    const url = this.createURL(path);\n    Object.assign(headers, await this.getHeaders());\n    const response = await this.http.put<T>(url, body, { headers });\n    return response.data;\n  }\n\n  private createURL(urlPath: string): string {\n    return this.baseUri + urlPath;\n  }\n\n  private async getHeaders(): Promise<any> {\n    const Authorization = await this.authService.getToken();\n    return Authorization ? { Authorization } : {};\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}