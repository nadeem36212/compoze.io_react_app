{"ast":null,"code":"var _jsxFileName = \"/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/compliance/Compliance.tsx\",\n  _s = $RefreshSig$();\nimport { ChevronRightIcon } from '@chakra-ui/icons';\nimport { IconButton, Spinner } from '@chakra-ui/react';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { DataTable } from '../../components/Table';\nimport NavBar from '../../navigation/navbar';\nimport routes from '../../routes';\nimport { fetchCompliance, selectCompliance } from './compliantSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CompliancePage() {\n  _s();\n  var _this = this;\n  var accountCompliances = useAppSelector(selectCompliance);\n  var dispatch = useAppDispatch();\n  var history = useHistory();\n  useEffect(function () {\n    dispatch(fetchCompliance());\n  }, []);\n  var navigateToDetailsPage = function navigateToDetailsPage(row) {\n    var account = accountCompliances === null || accountCompliances === void 0 ? void 0 : accountCompliances.find(function (compliance) {\n      return compliance.accountId === row.values.accountId;\n    });\n    if (account) {\n      history.push(routes.COMPLIANCEDETAILS.path.replace(':id', account.id));\n    }\n  };\n  var columns = React.useMemo(function () {\n    return [{\n      Header: 'AWS Account ID',\n      accessor: 'accountId'\n    }, {\n      Header: 'Nick Name',\n      accessor: 'nickName'\n    }, {\n      Header: 'Total Compliant Rules',\n      accessor: function accessor(d) {\n        return d.complianceSummary.ruleCompliance.compliantExceeded ? \"+\".concat(d.complianceSummary.ruleCompliance.compliantResources) : d.complianceSummary.ruleCompliance.compliantResources;\n      }\n    }, {\n      Header: 'Total Non Compliant Rules',\n      accessor: function accessor(d) {\n        return d.complianceSummary.ruleCompliance.nonComplianceExeeded ? \"+\".concat(d.complianceSummary.ruleCompliance.nonComplianceResources) : d.complianceSummary.ruleCompliance.nonComplianceResources;\n      }\n    }, {\n      Header: 'Total Compliant Resources',\n      accessor: function accessor(d) {\n        return d.complianceSummary.resourceCompliance.compliantExceeded ? \"+\".concat(d.complianceSummary.resourceCompliance.compliantResources) : d.complianceSummary.resourceCompliance.compliantResources;\n      }\n    }, {\n      Header: 'Total Non Compliant Resources',\n      accessor: function accessor(d) {\n        return d.complianceSummary.resourceCompliance.nonComplianceExeeded ? \"+\".concat(d.complianceSummary.resourceCompliance.nonComplianceResources) : d.complianceSummary.resourceCompliance.nonComplianceResources;\n      }\n    }, {\n      Header: ' ',\n      Cell: /*#__PURE__*/_jsxDEV(IconButton, {\n        w: 20,\n        bg: \"transparent\",\n        \"aria-label\": \"view compliance details page\",\n        icon: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n          color: \"black\",\n          w: 20,\n          h: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, _this)\n    }];\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Compliance container py-3\",\n      children: accountCompliances ? /*#__PURE__*/_jsxDEV(DataTable, {\n        title: \"Account Compliance\",\n        columns: columns,\n        data: accountCompliances,\n        onClick: navigateToDetailsPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Loading \", /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(CompliancePage, \"KAoIO+/eOWxciMcaInG1+aFee/k=\", false, function () {\n  return [useAppSelector, useAppDispatch, useHistory];\n});\n_c = CompliancePage;\nvar _c;\n$RefreshReg$(_c, \"CompliancePage\");","map":{"version":3,"names":["ChevronRightIcon","IconButton","Spinner","React","useEffect","useHistory","useAppDispatch","useAppSelector","DataTable","NavBar","routes","fetchCompliance","selectCompliance","CompliancePage","accountCompliances","dispatch","history","navigateToDetailsPage","row","account","find","compliance","accountId","values","push","COMPLIANCEDETAILS","path","replace","id","columns","useMemo","Header","accessor","d","complianceSummary","ruleCompliance","compliantExceeded","compliantResources","nonComplianceExeeded","nonComplianceResources","resourceCompliance","Cell"],"sources":["/Users/naeem/syntaxroot/costdashboard-fe-redesign/src/features/compliance/Compliance.tsx"],"sourcesContent":["import { ChevronRightIcon } from '@chakra-ui/icons';\nimport { IconButton, Spinner } from '@chakra-ui/react';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Row } from 'react-table';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { DataTable } from '../../components/Table';\nimport NavBar from '../../navigation/navbar';\nimport routes from '../../routes';\nimport {\n  AccountComplianceSummary,\n  fetchCompliance,\n  selectCompliance,\n} from './compliantSlice';\n\nexport default function CompliancePage() {\n  const accountCompliances: AccountComplianceSummary[] | undefined =\n    useAppSelector(selectCompliance);\n\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(fetchCompliance());\n  }, []);\n\n  const navigateToDetailsPage = (row: Row<any>) => {\n    const account = accountCompliances?.find(\n      (compliance) => compliance.accountId === row.values.accountId\n    );\n    if (account) {\n      history.push(routes.COMPLIANCEDETAILS.path.replace(':id', account.id));\n    }\n  };\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'AWS Account ID',\n        accessor: 'accountId',\n      },\n      {\n        Header: 'Nick Name',\n        accessor: 'nickName',\n      },\n      {\n        Header: 'Total Compliant Rules',\n        accessor: (d: AccountComplianceSummary) =>\n          d.complianceSummary.ruleCompliance.compliantExceeded\n            ? `+${d.complianceSummary.ruleCompliance.compliantResources}`\n            : d.complianceSummary.ruleCompliance.compliantResources,\n      },\n      {\n        Header: 'Total Non Compliant Rules',\n        accessor: (d: AccountComplianceSummary) =>\n          d.complianceSummary.ruleCompliance.nonComplianceExeeded\n            ? `+${d.complianceSummary.ruleCompliance.nonComplianceResources}`\n            : d.complianceSummary.ruleCompliance.nonComplianceResources,\n      },\n      {\n        Header: 'Total Compliant Resources',\n        accessor: (d: AccountComplianceSummary) =>\n          d.complianceSummary.resourceCompliance.compliantExceeded\n            ? `+${d.complianceSummary.resourceCompliance.compliantResources}`\n            : d.complianceSummary.resourceCompliance.compliantResources,\n      },\n      {\n        Header: 'Total Non Compliant Resources',\n        accessor: (d: AccountComplianceSummary) =>\n          d.complianceSummary.resourceCompliance.nonComplianceExeeded\n            ? `+${d.complianceSummary.resourceCompliance.nonComplianceResources}`\n            : d.complianceSummary.resourceCompliance.nonComplianceResources,\n      },\n      {\n        Header: ' ',\n        Cell: (\n          <IconButton\n            w={20}\n            bg='transparent'\n            aria-label='view compliance details page'\n            icon={<ChevronRightIcon color='black' w={20} h={10} />}\n          />\n        ),\n      },\n    ],\n    []\n  );\n\n  return (\n    <div className='App container py-3'>\n      <NavBar />\n      <div className='Compliance container py-3'>\n        {accountCompliances ? (\n          <DataTable\n            title='Account Compliance'\n            columns={columns}\n            data={accountCompliances}\n            onClick={navigateToDetailsPage}\n          />\n        ) : (\n          <div>\n            Loading <Spinner />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,UAAU,EAAEC,OAAO,QAAQ,kBAAkB;AACtD,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,SAASC,cAAc,EAAEC,cAAc,QAAQ,iBAAiB;AAChE,SAASC,SAAS,QAAQ,wBAAwB;AAClD,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,MAAM,MAAM,cAAc;AACjC,SAEEC,eAAe,EACfC,gBAAgB,QACX,kBAAkB;AAAC;AAE1B,eAAe,SAASC,cAAc,GAAG;EAAA;EAAA;EACvC,IAAMC,kBAA0D,GAC9DP,cAAc,CAACK,gBAAgB,CAAC;EAElC,IAAMG,QAAQ,GAAGT,cAAc,EAAE;EACjC,IAAMU,OAAO,GAAGX,UAAU,EAAE;EAE5BD,SAAS,CAAC,YAAM;IACdW,QAAQ,CAACJ,eAAe,EAAE,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMM,qBAAqB,GAAG,SAAxBA,qBAAqB,CAAIC,GAAa,EAAK;IAC/C,IAAMC,OAAO,GAAGL,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAEM,IAAI,CACtC,UAACC,UAAU;MAAA,OAAKA,UAAU,CAACC,SAAS,KAAKJ,GAAG,CAACK,MAAM,CAACD,SAAS;IAAA,EAC9D;IACD,IAAIH,OAAO,EAAE;MACXH,OAAO,CAACQ,IAAI,CAACd,MAAM,CAACe,iBAAiB,CAACC,IAAI,CAACC,OAAO,CAAC,KAAK,EAAER,OAAO,CAACS,EAAE,CAAC,CAAC;IACxE;EACF,CAAC;EAED,IAAMC,OAAO,GAAG1B,KAAK,CAAC2B,OAAO,CAC3B;IAAA,OAAM,CACJ;MACEC,MAAM,EAAE,gBAAgB;MACxBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,WAAW;MACnBC,QAAQ,EAAE;IACZ,CAAC,EACD;MACED,MAAM,EAAE,uBAAuB;MAC/BC,QAAQ,EAAE,kBAACC,CAA2B;QAAA,OACpCA,CAAC,CAACC,iBAAiB,CAACC,cAAc,CAACC,iBAAiB,cAC5CH,CAAC,CAACC,iBAAiB,CAACC,cAAc,CAACE,kBAAkB,IACzDJ,CAAC,CAACC,iBAAiB,CAACC,cAAc,CAACE,kBAAkB;MAAA;IAC7D,CAAC,EACD;MACEN,MAAM,EAAE,2BAA2B;MACnCC,QAAQ,EAAE,kBAACC,CAA2B;QAAA,OACpCA,CAAC,CAACC,iBAAiB,CAACC,cAAc,CAACG,oBAAoB,cAC/CL,CAAC,CAACC,iBAAiB,CAACC,cAAc,CAACI,sBAAsB,IAC7DN,CAAC,CAACC,iBAAiB,CAACC,cAAc,CAACI,sBAAsB;MAAA;IACjE,CAAC,EACD;MACER,MAAM,EAAE,2BAA2B;MACnCC,QAAQ,EAAE,kBAACC,CAA2B;QAAA,OACpCA,CAAC,CAACC,iBAAiB,CAACM,kBAAkB,CAACJ,iBAAiB,cAChDH,CAAC,CAACC,iBAAiB,CAACM,kBAAkB,CAACH,kBAAkB,IAC7DJ,CAAC,CAACC,iBAAiB,CAACM,kBAAkB,CAACH,kBAAkB;MAAA;IACjE,CAAC,EACD;MACEN,MAAM,EAAE,+BAA+B;MACvCC,QAAQ,EAAE,kBAACC,CAA2B;QAAA,OACpCA,CAAC,CAACC,iBAAiB,CAACM,kBAAkB,CAACF,oBAAoB,cACnDL,CAAC,CAACC,iBAAiB,CAACM,kBAAkB,CAACD,sBAAsB,IACjEN,CAAC,CAACC,iBAAiB,CAACM,kBAAkB,CAACD,sBAAsB;MAAA;IACrE,CAAC,EACD;MACER,MAAM,EAAE,GAAG;MACXU,IAAI,eACF,QAAC,UAAU;QACT,CAAC,EAAE,EAAG;QACN,EAAE,EAAC,aAAa;QAChB,cAAW,8BAA8B;QACzC,IAAI,eAAE,QAAC,gBAAgB;UAAC,KAAK,EAAC,OAAO;UAAC,CAAC,EAAE,EAAG;UAAC,CAAC,EAAE;QAAG;UAAA;UAAA;UAAA;QAAA;MAAI;QAAA;QAAA;QAAA;MAAA;IAG7D,CAAC,CACF;EAAA,GACD,EAAE,CACH;EAED,oBACE;IAAK,SAAS,EAAC,oBAAoB;IAAA,wBACjC,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG,eACV;MAAK,SAAS,EAAC,2BAA2B;MAAA,UACvC3B,kBAAkB,gBACjB,QAAC,SAAS;QACR,KAAK,EAAC,oBAAoB;QAC1B,OAAO,EAAEe,OAAQ;QACjB,IAAI,EAAEf,kBAAmB;QACzB,OAAO,EAAEG;MAAsB;QAAA;QAAA;QAAA;MAAA,QAC/B,gBAEF;QAAA,oCACU,QAAC,OAAO;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA;IAEtB;MAAA;MAAA;MAAA;IAAA,QACG;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV;AAAC,GA5FuBJ,cAAc;EAAA,QAElCN,cAAc,EAECD,cAAc,EACfD,UAAU;AAAA;AAAA,KALJQ,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module"}